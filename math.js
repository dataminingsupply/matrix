!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.module=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("mathjs/core"),e=d.create();e.import(a("mathjs/lib/type/matrix")),e.import(a("mathjs/lib/function/arithmetic")),e.import(a("mathjs/lib/function/matrix")),e.import(a("mathjs/lib/function/relational")),b.exports={math:e}},{"mathjs/core":2,"mathjs/lib/function/arithmetic":26,"mathjs/lib/function/matrix":53,"mathjs/lib/function/relational":71,"mathjs/lib/type/matrix":91}],2:[function(a,b,c){b.exports=a("./lib/core/core")},{"./lib/core/core":3}],3:[function(a,b,c){var d=a("./../utils/object").isFactory,f=(a("./../utils/object").deepExtend,a("./typed")),g=a("./../utils/emitter"),h=a("./function/import"),i=a("./function/config");c.create=function(b){function l(a){if(!d(a))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var f,b=c.indexOf(a);return b===-1?(f=a.math===!0?a.factory(j.type,k,l,j.typed,j):a.factory(j.type,k,l,j.typed),c.push(a),e.push(f)):f=e[b],f}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var c=[],e=[],j=g.mixin({});j.type={},j.expression={transform:Object.create(j)},j.typed=f.create(j.type);var k={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1};return j.import=l(h),j.config=l(i),b&&j.config(b),j}},{"./../utils/emitter":113,"./../utils/object":118,"./function/config":4,"./function/import":5,"./typed":6}],4:[function(a,b,c){"use strict";function e(a,b,c,e,f){function j(a){if(a){var c=d.clone(b);h(a,"matrix",g),h(a,"number",i),d.deepExtend(b,a);var e=d.clone(b);return f.emit("config",e,c),e}return d.clone(b)}var g=["Matrix","Array"],i=["number","BigNumber","Fraction"];return j.MATRIX=g,j.NUMBER=i,j}function f(a,b){return a.indexOf(b)!==-1}function g(a,b){return a.map(function(a){return a.toLowerCase()}).indexOf(b.toLowerCase())}function h(a,b,c){if(void 0!==a[b]&&!f(c,a[b])){var d=g(c,a[b]);d!==-1?(console.warn('Warning: Wrong casing for configuration option "'+b+'", should be "'+c[d]+'" instead of "'+a[b]+'".'),a[b]=c[d]):console.warn('Warning: Unknown value "'+a[b]+'" for configuration option "'+b+'". Available options: '+c.map(JSON.stringify).join(", ")+".")}}var d=a("../../utils/object");c.name="config",c.math=!0,c.factory=e},{"../../utils/object":118}],5:[function(a,b,c){"use strict";function i(a,b,c,g,i){function j(a,b){var c=arguments.length;if(1!=c&&2!=c)throw new h("import",c,1,2);if(b||(b={}),e(a))n(a,b);else if(Array.isArray(a))a.forEach(function(a){j(a,b)});else if("object"==typeof a){for(var d in a)if(a.hasOwnProperty(d)){var f=a[d];o(f)?k(d,f,b):e(a)?n(a,b):j(f,b)}}else if(!b.silent)throw new TypeError("Factory, Object, or Array expected")}function k(a,b,c){if(c.wrap&&"function"==typeof b&&(b=m(b)),p(i[a])&&p(b))return b=c.override?g(a,b.signatures):g(i[a],b),i[a]=b,l(a,b),void i.emit("import",a,function(){return b});if(void 0===i[a]||c.override)return i[a]=b,l(a,b),void i.emit("import",a,function(){return b});if(!c.silent)throw new Error('Cannot import "'+a+'": already exists')}function l(a,b){b&&"function"==typeof b.transform&&(i.expression.transform[a]=b.transform)}function m(a){var b=function(){for(var c=[],d=0,e=arguments.length;d<e;d++){var f=arguments[d];c[d]=f&&f.valueOf()}return a.apply(i,c)};return a.transform&&(b.transform=a.transform),b}function n(a,b){if("string"==typeof a.name){var e=a.name,h=a.path?f(i,a.path):i,j=h.hasOwnProperty(e)?h[e]:void 0,k=function(){var d=c(a);if(p(j)&&p(d))return b.override||(d=g(j,d)),d;if(void 0===j||b.override)return d;if(!b.silent)throw new Error('Cannot import "'+e+'": already exists')};a.lazy!==!1?d(h,e,k):h[e]=k(),i.emit("import",e,k,a.path)}else c(a)}function o(a){return"function"==typeof a||"number"==typeof a||"string"==typeof a||"boolean"==typeof a||null===a||a&&a.isUnit===!0||a&&a.isComplex===!0||a&&a.isBigNumber===!0||a&&a.isFraction===!0||a&&a.isMatrix===!0||a&&Array.isArray(a)===!0}function p(a){return"function"==typeof a&&"object"==typeof a.signatures}return j}var d=a("../../utils/object").lazy,e=a("../../utils/object").isFactory,f=a("../../utils/object").traverse,h=(a("../../utils/object").extend,a("../../error/ArgumentsError"));c.math=!0,c.name="import",c.factory=i,c.lazy=!0},{"../../error/ArgumentsError":7,"../../utils/object":118}],6:[function(a,b,c){var d=a("typed-function"),e=a("./../utils/number").digits,f=function(){return f=d.create,d};c.create=function(b){var c=f();return c.types=[{name:"number",test:function(a){return"number"==typeof a}},{name:"Complex",test:function(a){return a&&a.isComplex}},{name:"BigNumber",test:function(a){return a&&a.isBigNumber}},{name:"Fraction",test:function(a){return a&&a.isFraction}},{name:"Unit",test:function(a){return a&&a.isUnit}},{name:"string",test:function(a){return"string"==typeof a}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(a){return a&&a.isMatrix}},{name:"DenseMatrix",test:function(a){return a&&a.isDenseMatrix}},{name:"SparseMatrix",test:function(a){return a&&a.isSparseMatrix}},{name:"ImmutableDenseMatrix",test:function(a){return a&&a.isImmutableDenseMatrix}},{name:"Range",test:function(a){return a&&a.isRange}},{name:"Index",test:function(a){return a&&a.isIndex}},{name:"boolean",test:function(a){return"boolean"==typeof a}},{name:"ResultSet",test:function(a){return a&&a.isResultSet}},{name:"Help",test:function(a){return a&&a.isHelp}},{name:"function",test:function(a){return"function"==typeof a}},{name:"Date",test:function(a){return a instanceof Date}},{name:"RegExp",test:function(a){return a instanceof RegExp}},{name:"Object",test:function(a){return"object"==typeof a}},{name:"null",test:function(a){return null===a}},{name:"undefined",test:function(a){return void 0===a}}],c.conversions=[{from:"number",to:"BigNumber",convert:function(a){if(e(a)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+a+"). Use function bignumber(x) to convert to BigNumber.");return new b.BigNumber(a)}},{from:"number",to:"Complex",convert:function(a){return new b.Complex(a,0)}},{from:"number",to:"string",convert:function(a){return a+""}},{from:"BigNumber",to:"Complex",convert:function(a){return new b.Complex(a.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(a){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(a){return new b.Complex(a.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(a){if(e(a)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to Fraction (value: "+a+"). Use function fraction(x) to convert to Fraction.");return new b.Fraction(a)}},{from:"string",to:"number",convert:function(a){var b=Number(a);if(isNaN(b))throw new Error('Cannot convert "'+a+'" to a number');return b}},{from:"boolean",to:"number",convert:function(a){return+a}},{from:"boolean",to:"BigNumber",convert:function(a){return new b.BigNumber(+a)}},{from:"boolean",to:"Fraction",convert:function(a){return new b.Fraction(+a)}},{from:"boolean",to:"string",convert:function(a){return+a}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new b.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new b.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(a){return new b.DenseMatrix(a)}},{from:"Matrix",to:"Array",convert:function(a){return a.valueOf()}}],c}},{"./../utils/number":117,"typed-function":122}],7:[function(a,b,c){"use strict";function d(a,b,c,e){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");this.fn=a,this.count=b,this.min=c,this.max=e,this.message="Wrong number of arguments in function "+a+" ("+b+" provided, "+c+(void 0!=e?"-"+e:"")+" expected)",this.stack=(new Error).stack}d.prototype=new Error,d.prototype.constructor=Error,d.prototype.name="ArgumentsError",d.prototype.isArgumentsError=!0,b.exports=d},{}],8:[function(a,b,c){"use strict";function d(a,b,c){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");this.actual=a,this.expected=b,this.relation=c,this.message="Dimension mismatch ("+(Array.isArray(a)?"["+a.join(", ")+"]":a)+" "+(this.relation||"!=")+" "+(Array.isArray(b)?"["+b.join(", ")+"]":b)+")",this.stack=(new Error).stack}d.prototype=new RangeError,d.prototype.constructor=RangeError,d.prototype.name="DimensionError",d.prototype.isDimensionError=!0,b.exports=d},{}],9:[function(a,b,c){"use strict";function d(a,b,c){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");this.index=a,arguments.length<3?(this.min=0,this.max=b):(this.min=b,this.max=c),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}d.prototype=new RangeError,d.prototype.constructor=RangeError,d.prototype.name="IndexError",d.prototype.isIndexError=!0,b.exports=d},{}],10:[function(a,b,c){"use strict";function e(a,b,c,e){var f=e("abs",{number:Math.abs,Complex:function(a){return a.abs()},BigNumber:function(a){return a.abs()},Fraction:function(a){return a.abs()},"Array | Matrix":function(a){return d(a,f,!0)},Unit:function(a){return a.abs()}});return f.toTex={1:"\\left|${args[0]}\\right|"},f}var d=a("../../utils/collection/deepMap");c.name="abs",c.factory=e},{"../../utils/collection/deepMap":111}],11:[function(a,b,c){"use strict";function e(b,c,e,f){var g=e(a("../../type/matrix/function/matrix")),h=e(a("./addScalar")),i=a("../../utils/latex.js"),j=e(a("../../type/matrix/utils/algorithm01")),k=e(a("../../type/matrix/utils/algorithm04")),l=e(a("../../type/matrix/utils/algorithm10")),m=e(a("../../type/matrix/utils/algorithm13")),n=e(a("../../type/matrix/utils/algorithm14")),o=f("add",d({"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=k(a,b,h);break;default:c=j(b,a,h,!0)}break;default:switch(b.storage()){case"sparse":c=j(a,b,h,!1);break;default:c=m(a,b,h)}}return c},"Array, Array":function(a,b){return o(g(a),g(b)).valueOf()},"Array, Matrix":function(a,b){return o(g(a),b)},"Matrix, Array":function(a,b){return o(a,g(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=l(a,b,h,!1);break;default:c=n(a,b,h,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=l(b,a,h,!0);break;default:c=n(b,a,h,!0)}return c},"Array, any":function(a,b){return n(g(a),b,h,!1).valueOf()},"any, Array":function(a,b){return n(g(b),a,h,!0).valueOf()},"any, any":h,"any, any, ...any":function(a,b,c){for(var d=o(a,b),e=0;e<c.length;e++)d=o(d,c[e]);return d}},h.signatures));return o.toTex={2:"\\left(${args[0]}"+i.operators.add+"${args[1]}\\right)"},o}var d=a("../../utils/object").extend;c.name="add",c.factory=e},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm01":92,"../../type/matrix/utils/algorithm04":95,"../../type/matrix/utils/algorithm10":100,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/latex.js":116,"../../utils/object":118,"./addScalar":12}],12:[function(a,b,c){"use strict";function d(a,b,c,d){var e=d("add",{"number, number":function(a,b){return a+b},"Complex, Complex":function(a,b){return a.add(b)},"BigNumber, BigNumber":function(a,b){return a.plus(b)},"Fraction, Fraction":function(a,b){return a.add(b)},"Unit, Unit":function(a,b){if(null==a.value)throw new Error("Parameter x contains a unit with undefined value");if(null==b.value)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(b))throw new Error("Units do not match");var c=a.clone();return c.value=e(c.value,b.value),c.fixPrefix=!1,c}});return e}c.factory=d},{}],13:[function(a,b,c){"use strict";function e(b,c,e,g){function l(a,d){var e=a.arg()/3,g=a.abs(),h=new b.Complex(f(g),0).mul(new b.Complex(0,e).exp());if(d){var i=[h,new b.Complex(f(g),0).mul(new b.Complex(0,e+2*Math.PI/3).exp()),new b.Complex(f(g),0).mul(new b.Complex(0,e-2*Math.PI/3).exp())];return"Array"===c.matrix?i:j(i)}return h}function m(a){if(a.value&&a.value.isComplex){var c=a.clone();return c.value=1,c=c.pow(1/3),c.value=l(a.value),c}var d=i(a.value);d&&(a.value=h(a.value));var e;e=a.value&&a.value.isBigNumber?new b.BigNumber(1).div(3):a.value&&a.value.isFraction?new b.Fraction(1,3):1/3;var c=a.pow(e);return d&&(c.value=h(c.value)),c}var h=e(a("./unaryMinus")),i=e(a("../utils/isNegative")),j=e(a("../../type/matrix/function/matrix")),k=g("cbrt",{number:f,Complex:l,"Complex, boolean":l,BigNumber:function(a){return a.cbrt()},Unit:m,"Array | Matrix":function(a){return d(a,k,!0)}});return k.toTex={1:"\\sqrt[3]{${args[0]}}"},k}var d=a("../../utils/collection/deepMap"),f=Math.cbrt||function(a){if(0===a)return a;var c,b=a<0;return b&&(a=-a),isFinite(a)?(c=Math.exp(Math.log(a)/3),c=(a/(c*c)+2*c)/3):c=a,b?-c:c};c.name="cbrt",c.factory=e},{"../../type/matrix/function/matrix":89,"../../utils/collection/deepMap":111,"../utils/isNegative":77,"./unaryMinus":41}],14:[function(a,b,c){"use strict";function e(a,b,c,e){var f=e("ceil",{number:Math.ceil,Complex:function(a){return a.ceil()},BigNumber:function(a){return a.ceil()},Fraction:function(a){return a.ceil()},"Array | Matrix":function(a){return d(a,f,!0)}});return f.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},f}var d=a("../../utils/collection/deepMap");c.name="ceil",c.factory=e},{"../../utils/collection/deepMap":111}],15:[function(a,b,c){"use strict";function e(a,b,c,e){var f=e("cube",{number:function(a){return a*a*a},Complex:function(a){return a.mul(a).mul(a)},BigNumber:function(a){return a.times(a).times(a)},Fraction:function(a){return a.pow(3)},"Array | Matrix":function(a){return d(a,f,!0)},Unit:function(a){return a.pow(3)}});return f.toTex={1:"\\left(${args[0]}\\right)^3"},f}var d=a("../../utils/collection/deepMap");c.name="cube",c.factory=e},{"../../utils/collection/deepMap":111}],16:[function(a,b,c){"use strict";function e(b,c,e,f){var g=e(a("./divideScalar")),h=e(a("./multiply")),i=e(a("../matrix/inv")),j=e(a("../../type/matrix/function/matrix")),k=e(a("../../type/matrix/utils/algorithm11")),l=e(a("../../type/matrix/utils/algorithm14")),m=f("divide",d({"Array | Matrix, Array | Matrix":function(a,b){return h(a,i(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,g,!1);break;case"dense":c=l(a,b,g,!1)}return c},"Array, any":function(a,b){return l(j(a),b,g,!1).valueOf()},"any, Array | Matrix":function(a,b){return h(a,i(b))}},g.signatures));return m.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},m}var d=a("../../utils/object").extend;c.name="divide",c.factory=e},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm11":101,"../../type/matrix/utils/algorithm14":104,"../../utils/object":118,"../matrix/inv":54,"./divideScalar":17,"./multiply":31}],17:[function(a,b,c){"use strict";function d(b,c,d,e){var f=d(a("./multiplyScalar")),g=e("divide",{"number, number":function(a,b){return a/b},"Complex, Complex":function(a,b){return a.div(b)},"BigNumber, BigNumber":function(a,b){return a.div(b)},"Fraction, Fraction":function(a,b){return a.div(b)},"Unit, number | Fraction | BigNumber":function(a,b){var c=a.clone();return c.value=g(null===c.value?c._normalize(1):c.value,b),c},"number | Fraction | BigNumber, Unit":function(a,b){var c=b.pow(-1);return c.value=f(null===c.value?c._normalize(1):c.value,a),c},"Unit, Unit":function(a,b){return a.divide(b)}});return g}c.factory=d},{"./multiplyScalar":32}],18:[function(a,b,c){"use strict";function d(b,c,d,e){var f=d(a("../../type/matrix/function/matrix")),g=d(a("./divideScalar")),h=a("../../utils/latex"),i=d(a("../../type/matrix/utils/algorithm02")),j=d(a("../../type/matrix/utils/algorithm03")),k=d(a("../../type/matrix/utils/algorithm07")),l=d(a("../../type/matrix/utils/algorithm11")),m=d(a("../../type/matrix/utils/algorithm12")),n=d(a("../../type/matrix/utils/algorithm13")),o=d(a("../../type/matrix/utils/algorithm14")),p=e("dotDivide",{"any, any":g,"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=k(a,b,g,!1);break;default:c=i(b,a,g,!0)}break;default:switch(b.storage()){case"sparse":c=j(a,b,g,!1);break;default:c=n(a,b,g)}}return c},"Array, Array":function(a,b){return p(f(a),f(b)).valueOf()},"Array, Matrix":function(a,b){return p(f(a),b)},"Matrix, Array":function(a,b){return p(a,f(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=l(a,b,g,!1);break;default:c=o(a,b,g,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=m(b,a,g,!0);break;default:c=o(b,a,g,!0)}return c},"Array, any":function(a,b){return o(f(a),b,g,!1).valueOf()},"any, Array":function(a,b){return o(f(b),a,g,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+h.operators.dotDivide+"${args[1]}\\right)"},p}c.name="dotDivide",c.factory=d},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm02":93,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm07":98,"../../type/matrix/utils/algorithm11":101,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/latex":116,"./divideScalar":17}],19:[function(a,b,c){"use strict";function d(b,c,d,e){var f=d(a("../../type/matrix/function/matrix")),g=d(a("./multiplyScalar")),h=a("../../utils/latex"),i=d(a("../../type/matrix/utils/algorithm02")),j=d(a("../../type/matrix/utils/algorithm09")),k=d(a("../../type/matrix/utils/algorithm11")),l=d(a("../../type/matrix/utils/algorithm13")),m=d(a("../../type/matrix/utils/algorithm14")),n=e("dotMultiply",{"any, any":g,"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=j(a,b,g,!1);break;default:c=i(b,a,g,!0)}break;default:switch(b.storage()){case"sparse":c=i(a,b,g,!1);break;default:c=l(a,b,g)}}return c},"Array, Array":function(a,b){return n(f(a),f(b)).valueOf()},"Array, Matrix":function(a,b){return n(f(a),b)},"Matrix, Array":function(a,b){return n(a,f(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,g,!1);break;default:c=m(a,b,g,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=k(b,a,g,!0);break;default:c=m(b,a,g,!0)}return c},"Array, any":function(a,b){return m(f(a),b,g,!1).valueOf()},"any, Array":function(a,b){return m(f(b),a,g,!0).valueOf()}});return n.toTex={2:"\\left(${args[0]}"+h.operators.dotMultiply+"${args[1]}\\right)"},n}c.name="dotMultiply",c.factory=d},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm02":93,"../../type/matrix/utils/algorithm09":99,"../../type/matrix/utils/algorithm11":101,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/latex":116,"./multiplyScalar":32}],20:[function(a,b,c){"use strict";function d(b,c,d,e){var f=d(a("../../type/matrix/function/matrix")),g=d(a("./pow")),h=a("../../utils/latex"),i=d(a("../../type/matrix/utils/algorithm03")),j=d(a("../../type/matrix/utils/algorithm07")),k=d(a("../../type/matrix/utils/algorithm11")),l=d(a("../../type/matrix/utils/algorithm12")),m=d(a("../../type/matrix/utils/algorithm13")),n=d(a("../../type/matrix/utils/algorithm14")),o=e("dotPow",{"any, any":g,"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=j(a,b,g,!1);break;default:c=i(b,a,g,!0)}break;default:switch(b.storage()){case"sparse":c=i(a,b,g,!1);break;default:c=m(a,b,g)}}return c},"Array, Array":function(a,b){return o(f(a),f(b)).valueOf()},"Array, Matrix":function(a,b){return o(f(a),b)},"Matrix, Array":function(a,b){return o(a,f(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,o,!1);break;default:c=n(a,b,o,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=l(b,a,o,!0);break;default:c=n(b,a,o,!0)}return c},"Array, any":function(a,b){return n(f(a),b,o,!1).valueOf()},"any, Array":function(a,b){return n(f(b),a,o,!0).valueOf()}});return o.toTex={2:"\\left(${args[0]}"+h.operators.dotPow+"${args[1]}\\right)"},o}c.name="dotPow",c.factory=d},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm07":98,"../../type/matrix/utils/algorithm11":101,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/latex":116,"./pow":35}],21:[function(a,b,c){"use strict";function e(a,b,c,e){var f=e("exp",{number:Math.exp,Complex:function(a){return a.exp()},BigNumber:function(a){return a.exp()},"Array | Matrix":function(a){return d(a,f)}});return f.toTex={1:"\\exp\\left(${args[0]}\\right)"},f}var d=a("../../utils/collection/deepMap");c.name="exp",c.factory=e},{"../../utils/collection/deepMap":111}],22:[function(a,b,c){"use strict";function e(a,b,c,e){var f=e("fix",{number:function(a){return a>0?Math.floor(a):Math.ceil(a)},Complex:function(b){return new a.Complex(b.re>0?Math.floor(b.re):Math.ceil(b.re),b.im>0?Math.floor(b.im):Math.ceil(b.im))},BigNumber:function(a){return a.isNegative()?a.ceil():a.floor()},Fraction:function(a){return a.s<0?a.ceil():a.floor()},"Array | Matrix":function(a){return d(a,f,!0)}});return f.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},f}var d=a("../../utils/collection/deepMap");c.name="fix",c.factory=e},{"../../utils/collection/deepMap":111}],23:[function(a,b,c){"use strict";function e(a,b,c,e){var f=e("floor",{number:Math.floor,Complex:function(a){return a.floor()},BigNumber:function(a){return a.floor()},Fraction:function(a){return a.floor()},"Array | Matrix":function(a){return d(a,f,!0)}});return f.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},f}var d=a("../../utils/collection/deepMap");c.name="floor",c.factory=e},{"../../utils/collection/deepMap":111}],24:[function(a,b,c){"use strict";function e(b,c,d,e){function n(a,c){if(!a.isInt()||!c.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var d=new b.BigNumber(0);!c.isZero();){var e=a.mod(c);a=c,c=e}return a.lt(d)?a.neg():a}var g=d(a("../../type/matrix/function/matrix")),h=d(a("../../type/matrix/utils/algorithm01")),i=d(a("../../type/matrix/utils/algorithm04")),j=d(a("../../type/matrix/utils/algorithm10")),k=d(a("../../type/matrix/utils/algorithm13")),l=d(a("../../type/matrix/utils/algorithm14")),m=e("gcd",{"number, number":f,"BigNumber, BigNumber":n,"Fraction, Fraction":function(a,b){return a.gcd(b)},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=i(a,b,m);break;default:c=h(b,a,m,!0)}break;default:switch(b.storage()){case"sparse":c=h(a,b,m,!1);break;default:c=k(a,b,m)}}return c},"Array, Array":function(a,b){return m(g(a),g(b)).valueOf()},"Array, Matrix":function(a,b){return m(g(a),b)},"Matrix, Array":function(a,b){return m(a,g(b))},"Matrix, number | BigNumber":function(a,b){var c;switch(a.storage()){case"sparse":c=j(a,b,m,!1);break;default:c=l(a,b,m,!1)}return c},"number | BigNumber, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=j(b,a,m,!0);break;default:c=l(b,a,m,!0)}return c},"Array, number | BigNumber":function(a,b){return l(g(a),b,m,!1).valueOf()},"number | BigNumber, Array":function(a,b){return l(g(b),a,m,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(a,b,c){for(var d=m(a,b),e=0;e<c.length;e++)d=m(d,c[e]);return d}});return m.toTex="\\gcd\\left(${args}\\right)",m}function f(a,b){if(!d(a)||!d(b))throw new Error("Parameters in function gcd must be integer numbers");for(var c;0!=b;)c=a%b,a=b,b=c;return a<0?-a:a}var d=a("../../utils/number").isInteger;c.name="gcd",c.factory=e},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm01":92,"../../type/matrix/utils/algorithm04":95,"../../type/matrix/utils/algorithm10":100,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/number":117}],25:[function(a,b,c){"use strict";function e(b,c,e,f){function o(a){for(var b=0,c=0,d=0;d<a.length;d++){var e=g(a[d]);l(c,e)?(b=j(b,j(i(c,e),i(c,e))),b=h(b,1),c=e):b=h(b,m(e)?j(i(e,c),i(e,c)):e)}return j(c,k(b))}var g=e(a("./abs")),h=e(a("./addScalar")),i=e(a("./divideScalar")),j=e(a("./multiplyScalar")),k=e(a("./sqrt")),l=e(a("../relational/smaller")),m=e(a("../utils/isPositive")),n=f("hypot",{"... number | BigNumber":o,Array:function(a){return n.apply(n,d(a))},Matrix:function(a){return n.apply(n,d(a.toArray()))}});return n.toTex="\\hypot\\left(${args}\\right)",n}var d=a("../../utils/array").flatten;c.name="hypot",c.factory=e},{"../../utils/array":107,"../relational/smaller":74,"../utils/isPositive":78,"./abs":10,"./addScalar":12,"./divideScalar":17,"./multiplyScalar":32,"./sqrt":38}],26:[function(a,b,c){b.exports=[a("./abs"),a("./add"),a("./addScalar"),a("./cbrt"),a("./ceil"),a("./cube"),a("./divide"),a("./dotDivide"),a("./dotMultiply"),a("./dotPow"),a("./exp"),a("./fix"),a("./floor"),a("./gcd"),a("./hypot"),a("./lcm"),a("./log"),a("./log10"),a("./mod"),a("./multiply"),a("./norm"),a("./nthRoot"),a("./pow"),a("./round"),a("./sign"),a("./sqrt"),a("./square"),a("./subtract"),a("./unaryMinus"),a("./unaryPlus"),a("./xgcd")]},{"./abs":10,"./add":11,"./addScalar":12,"./cbrt":13,"./ceil":14,"./cube":15,"./divide":16,"./dotDivide":18,"./dotMultiply":19,"./dotPow":20,"./exp":21,"./fix":22,"./floor":23,"./gcd":24,"./hypot":25,"./lcm":27,"./log":28,"./log10":29,"./mod":30,"./multiply":31,"./norm":33,"./nthRoot":34,"./pow":35,"./round":36,"./sign":37,"./sqrt":38,"./square":39,"./subtract":40,"./unaryMinus":41,"./unaryPlus":42,"./xgcd":43}],27:[function(a,b,c){"use strict";function e(b,c,d,e){function n(a,c){if(!a.isInt()||!c.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(a.isZero()||c.isZero())return new b.BigNumber(0);for(var d=a.times(c);!c.isZero();){var e=c;c=a.mod(e),a=e}return d.div(a).abs()}var g=d(a("../../type/matrix/function/matrix")),h=d(a("../../type/matrix/utils/algorithm02")),i=d(a("../../type/matrix/utils/algorithm06")),j=d(a("../../type/matrix/utils/algorithm11")),k=d(a("../../type/matrix/utils/algorithm13")),l=d(a("../../type/matrix/utils/algorithm14")),m=e("lcm",{"number, number":f,"BigNumber, BigNumber":n,"Fraction, Fraction":function(a,b){return a.lcm(b)},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=i(a,b,m);break;default:c=h(b,a,m,!0)}break;default:switch(b.storage()){case"sparse":c=h(a,b,m,!1);break;default:c=k(a,b,m)}}return c},"Array, Array":function(a,b){return m(g(a),g(b)).valueOf()},"Array, Matrix":function(a,b){return m(g(a),b)},"Matrix, Array":function(a,b){return m(a,g(b))},"Matrix, number | BigNumber":function(a,b){var c;switch(a.storage()){case"sparse":c=j(a,b,m,!1);break;default:c=l(a,b,m,!1)}return c},"number | BigNumber, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=j(b,a,m,!0);break;default:c=l(b,a,m,!0)}return c},"Array, number | BigNumber":function(a,b){return l(g(a),b,m,!1).valueOf()},"number | BigNumber, Array":function(a,b){return l(g(b),a,m,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(a,b,c){for(var d=m(a,b),e=0;e<c.length;e++)d=m(d,c[e]);return d}});return m.toTex=void 0,m}function f(a,b){if(!d(a)||!d(b))throw new Error("Parameters in function lcm must be integer numbers");if(0==a||0==b)return 0;for(var c,e=a*b;0!=b;)c=b,b=a%c,a=c;return Math.abs(e/a)}var d=a("../../utils/number").isInteger;c.name="lcm",c.factory=e},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm02":93,"../../type/matrix/utils/algorithm06":97,"../../type/matrix/utils/algorithm11":101,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/number":117}],28:[function(a,b,c){"use strict";function e(b,c,e,f){var g=e(a("./divideScalar")),h=f("log",{number:function(a){return a>=0||c.predictable?Math.log(a):new b.Complex(a,0).log()},Complex:function(a){return a.log()},BigNumber:function(a){return!a.isNegative()||c.predictable?a.ln():new b.Complex(a.toNumber(),0).log()},"Array | Matrix":function(a){return d(a,h)},"any, any":function(a,b){return g(h(a),h(b))}});return h.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},h}var d=a("../../utils/collection/deepMap");c.name="log",c.factory=e},{"../../utils/collection/deepMap":111,"./divideScalar":17}],29:[function(a,b,c){"use strict";function e(a,b,c,e){var g=e("log10",{number:function(c){return c>=0||b.predictable?f(c):new a.Complex(c,0).log().div(Math.LN10)},Complex:function(b){return new a.Complex(b).log().div(Math.LN10)},BigNumber:function(c){return!c.isNegative()||b.predictable?c.log():new a.Complex(c.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(a){return d(a,g)}});return g.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},g}var d=a("../../utils/collection/deepMap"),f=Math.log10||function(a){return Math.log(a)/Math.LN10};c.name="log10",c.factory=e},{"../../utils/collection/deepMap":111}],30:[function(a,b,c){"use strict";function d(b,c,d,e){function p(a,b){if(b>0)return a-b*Math.floor(a/b);if(0===b)return a;throw new Error("Cannot calculate mod for a negative divisor")}var f=d(a("../../type/matrix/function/matrix")),g=a("../../utils/latex"),h=d(a("../../type/matrix/utils/algorithm02")),i=d(a("../../type/matrix/utils/algorithm03")),j=d(a("../../type/matrix/utils/algorithm05")),k=d(a("../../type/matrix/utils/algorithm11")),l=d(a("../../type/matrix/utils/algorithm12")),m=d(a("../../type/matrix/utils/algorithm13")),n=d(a("../../type/matrix/utils/algorithm14")),o=e("mod",{"number, number":p,"BigNumber, BigNumber":function(a,b){return b.isZero()?a:a.mod(b)},"Fraction, Fraction":function(a,b){return a.mod(b)},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=j(a,b,o,!1);break;default:c=h(b,a,o,!0)}break;default:switch(b.storage()){case"sparse":c=i(a,b,o,!1);break;default:c=m(a,b,o)}}return c},"Array, Array":function(a,b){return o(f(a),f(b)).valueOf()},"Array, Matrix":function(a,b){return o(f(a),b)},"Matrix, Array":function(a,b){return o(a,f(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,o,!1);break;default:c=n(a,b,o,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=l(b,a,o,!0);break;default:c=n(b,a,o,!0)}return c},"Array, any":function(a,b){return n(f(a),b,o,!1).valueOf()},"any, Array":function(a,b){return n(f(b),a,o,!0).valueOf()}});return o.toTex={2:"\\left(${args[0]}"+g.operators.mod+"${args[1]}\\right)"},o}c.name="mod",c.factory=d},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm02":93,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm05":96,
"../../type/matrix/utils/algorithm11":101,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/latex":116}],31:[function(a,b,c){"use strict";function f(b,c,f,g){var h=a("../../utils/latex"),i=f(a("../../type/matrix/function/matrix")),j=f(a("./addScalar")),k=f(a("./multiplyScalar")),l=f(a("../relational/equalScalar")),m=f(a("../../type/matrix/utils/algorithm11")),n=f(a("../../type/matrix/utils/algorithm14")),o=b.DenseMatrix,p=b.SparseMatrix,q=g("multiply",d({"Array, Array":function(a,b){r(e.size(a),e.size(b));var c=q(i(a),i(b));return c&&c.isMatrix===!0?c.valueOf():c},"Matrix, Matrix":function(a,b){var c=a.size(),d=b.size();return r(c,d),1===c.length?1===d.length?s(a,b,c[0]):t(a,b):1===d.length?v(a,b):w(a,b)},"Matrix, Array":function(a,b){return q(a,i(b))},"Array, Matrix":function(a,b){return q(i(a,b.storage()),b)},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=m(a,b,k,!1);break;case"dense":c=n(a,b,k,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=m(b,a,k,!0);break;case"dense":c=n(b,a,k,!0)}return c},"Array, any":function(a,b){return n(i(a),b,k,!1).valueOf()},"any, Array":function(a,b){return n(i(b),a,k,!0).valueOf()},"any, any":k,"any, any, ...any":function(a,b,c){for(var d=q(a,b),e=0;e<c.length;e++)d=q(d,c[e]);return d}},k.signatures)),r=function(a,b){switch(a.length){case 1:switch(b.length){case 1:if(a[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(a[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+a[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(a[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+a[1]+") must match Vector length ("+b[0]+")");break;case 2:if(a[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+a[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+a.length+" dimensions)")}},s=function(a,b,c){if(0===c)throw new Error("Cannot multiply two empty vectors");var i,d=a._data,e=a._datatype,f=b._data,h=b._datatype,l=j,m=k;e&&h&&e===h&&"string"==typeof e&&(i=e,l=g.find(j,[i,i]),m=g.find(k,[i,i]));for(var n=m(d[0],f[0]),o=1;o<c;o++)n=l(n,m(d[o],f[o]));return n},t=function(a,b){switch(b.storage()){case"dense":return u(a,b)}throw new Error("Not implemented")},u=function(a,b){var n,c=a._data,d=a._size,e=a._datatype,f=b._data,h=b._size,i=b._datatype,l=d[0],m=h[1],p=j,q=k;e&&i&&e===i&&"string"==typeof e&&(n=e,p=g.find(j,[n,n]),q=g.find(k,[n,n]));for(var r=[],s=0;s<m;s++){for(var t=q(c[0],f[0][s]),u=1;u<l;u++)t=p(t,q(c[u],f[u][s]));r[s]=t}return new o({data:r,size:[m],datatype:n})},v=function(a,b){switch(a.storage()){case"dense":return x(a,b);case"sparse":return A(a,b)}},w=function(a,b){switch(a.storage()){case"dense":switch(b.storage()){case"dense":return y(a,b);case"sparse":return z(a,b)}break;case"sparse":switch(b.storage()){case"dense":return B(a,b);case"sparse":return C(a,b)}}},x=function(a,b){var m,c=a._data,d=a._size,e=a._datatype,f=b._data,h=b._datatype,i=d[0],l=d[1],n=j,p=k;e&&h&&e===h&&"string"==typeof e&&(m=e,n=g.find(j,[m,m]),p=g.find(k,[m,m]));for(var q=[],r=0;r<i;r++){for(var s=c[r],t=p(s[0],f[0]),u=1;u<l;u++)t=n(t,p(s[u],f[u]));q[r]=t}return new o({data:q,size:[i],datatype:m})},y=function(a,b){var p,c=a._data,d=a._size,e=a._datatype,f=b._data,h=b._size,i=b._datatype,l=d[0],m=d[1],n=h[1],q=j,r=k;e&&i&&e===i&&"string"==typeof e&&(p=e,q=g.find(j,[p,p]),r=g.find(k,[p,p]));for(var s=[],t=0;t<l;t++){var u=c[t];s[t]=[];for(var v=0;v<n;v++){for(var w=r(u[0],f[0][v]),x=1;x<m;x++)w=q(w,r(u[x],f[x][v]));s[t][v]=w}}return new o({data:s,size:[l,n],datatype:p})},z=function(a,b){var c=a._data,d=a._size,e=a._datatype,f=b._values,h=b._index,i=b._ptr,m=b._size,n=b._datatype;if(!f)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var r,o=d[0],q=m[1],s=j,t=k,u=l,v=0;e&&n&&e===n&&"string"==typeof e&&(r=e,s=g.find(j,[r,r]),t=g.find(k,[r,r]),u=g.find(l,[r,r]),v=g.convert(0,r));for(var w=[],x=[],y=[],z=new p({values:w,index:x,ptr:y,size:[o,q],datatype:r}),A=0;A<q;A++){y[A]=x.length;var B=i[A],C=i[A+1];if(C>B)for(var D=0,E=0;E<o;E++){for(var G,F=E+1,H=B;H<C;H++){var I=h[H];D!==F?(G=t(c[E][I],f[H]),D=F):G=s(G,t(c[E][I],f[H]))}D!==F||u(G,v)||(x.push(E),w.push(G))}}return y[q]=x.length,z},A=function(a,b){var c=a._values,d=a._index,e=a._ptr,f=a._datatype;if(!c)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,h=b._data,i=b._datatype,m=a._size[0],n=b._size[0],o=[],q=[],r=[],t=j,u=k,v=l,w=0;f&&i&&f===i&&"string"==typeof f&&(s=f,t=g.find(j,[s,s]),u=g.find(k,[s,s]),v=g.find(l,[s,s]),w=g.convert(0,s));var x=[],y=[];r[0]=0;for(var z=0;z<n;z++){var A=h[z];if(!v(A,w))for(var B=e[z],C=e[z+1],D=B;D<C;D++){var E=d[D];y[E]?x[E]=t(x[E],u(A,c[D])):(y[E]=!0,q.push(E),x[E]=u(A,c[D]))}}for(var F=q.length,G=0;G<F;G++){var H=q[G];o[G]=x[H]}return r[1]=q.length,new p({values:o,index:q,ptr:r,size:[m,1],datatype:s})},B=function(a,b){var c=a._values,d=a._index,e=a._ptr,f=a._datatype;if(!c)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var q,h=b._data,i=b._datatype,m=a._size[0],n=b._size[0],o=b._size[1],r=j,s=k,t=l,u=0;f&&i&&f===i&&"string"==typeof f&&(q=f,r=g.find(j,[q,q]),s=g.find(k,[q,q]),t=g.find(l,[q,q]),u=g.convert(0,q));for(var v=[],w=[],x=[],y=new p({values:v,index:w,ptr:x,size:[m,o],datatype:q}),z=[],A=[],B=0;B<o;B++){x[B]=w.length;for(var C=B+1,D=0;D<n;D++){var E=h[D][B];if(!t(E,u))for(var F=e[D],G=e[D+1],H=F;H<G;H++){var I=d[H];A[I]!==C?(A[I]=C,w.push(I),z[I]=s(E,c[H])):z[I]=r(z[I],s(E,c[H]))}}for(var J=x[B],K=w.length,L=J;L<K;L++){var M=w[L];v[L]=z[M]}}return x[o]=w.length,y},C=function(a,b){var r,c=a._values,d=a._index,e=a._ptr,f=a._datatype,h=b._values,i=b._index,l=b._ptr,m=b._datatype,n=a._size[0],o=b._size[1],q=c&&h,s=j,t=k;f&&m&&f===m&&"string"==typeof f&&(r=f,s=g.find(j,[r,r]),t=g.find(k,[r,r]));for(var A,B,C,D,E,F,G,H,u=q?[]:void 0,v=[],w=[],x=new p({values:u,index:v,ptr:w,size:[n,o],datatype:r}),y=q?[]:void 0,z=[],I=0;I<o;I++){w[I]=v.length;var J=I+1;for(E=l[I],F=l[I+1],D=E;D<F;D++)if(H=i[D],q)for(B=e[H],C=e[H+1],A=B;A<C;A++)G=d[A],z[G]!==J?(z[G]=J,v.push(G),y[G]=t(h[D],c[A])):y[G]=s(y[G],t(h[D],c[A]));else for(B=e[H],C=e[H+1],A=B;A<C;A++)G=d[A],z[G]!==J&&(z[G]=J,v.push(G));if(q)for(var K=w[I],L=v.length,M=K;M<L;M++){var N=v[M];u[M]=y[N]}}return w[o]=v.length,x};return q.toTex={2:"\\left(${args[0]}"+h.operators.multiply+"${args[1]}\\right)"},q}var d=a("../../utils/object").extend,e=a("../../utils/array");c.name="multiply",c.factory=f},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm11":101,"../../type/matrix/utils/algorithm14":104,"../../utils/array":107,"../../utils/latex":116,"../../utils/object":118,"../relational/equalScalar":70,"./addScalar":12,"./multiplyScalar":32}],32:[function(a,b,c){"use strict";function d(a,b,c,d){var e=d("multiplyScalar",{"number, number":function(a,b){return a*b},"Complex, Complex":function(a,b){return a.mul(b)},"BigNumber, BigNumber":function(a,b){return a.times(b)},"Fraction, Fraction":function(a,b){return a.mul(b)},"number | Fraction | BigNumber | Complex, Unit":function(a,b){var c=b.clone();return c.value=null===c.value?c._normalize(a):e(c.value,a),c},"Unit, number | Fraction | BigNumber | Complex":function(a,b){var c=a.clone();return c.value=null===c.value?c._normalize(b):e(c.value,b),c},"Unit, Unit":function(a,b){return a.multiply(b)}});return e}c.factory=d},{}],33:[function(a,b,c){"use strict";function d(b,c,d,e){function r(a,b){var c=a.size();if(1==c.length){if(b===Number.POSITIVE_INFINITY||"inf"===b){var d=0;return a.forEach(function(a){var b=f(a);l(b,d)&&(d=b)},!0),d}if(b===Number.NEGATIVE_INFINITY||"-inf"===b){var e;return a.forEach(function(a){var b=f(a);e&&!m(b,e)||(e=b)},!0),e||0}if("fro"===b)return r(a,2);if("number"==typeof b&&!isNaN(b)){if(!k(b,0)){var n=0;return a.forEach(function(a){n=g(h(f(a),b),n)},!0),h(n,1/b)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==c.length){if(1===b){var q=[],s=0;return a.forEach(function(a,b){var c=b[1],d=g(q[c]||0,f(a));l(d,s)&&(s=d),q[c]=d},!0),s}if(b===Number.POSITIVE_INFINITY||"inf"===b){var t=[],u=0;return a.forEach(function(a,b){var c=b[0],d=g(t[c]||0,f(a));l(d,u)&&(u=d),t[c]=d},!0),u}if("fro"===b)return i(o(j(p(a),a)));if(2===b)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}var f=d(a("../arithmetic/abs")),g=d(a("../arithmetic/add")),h=d(a("../arithmetic/pow")),i=d(a("../arithmetic/sqrt")),j=d(a("../arithmetic/multiply")),k=d(a("../relational/equalScalar")),l=d(a("../relational/larger")),m=d(a("../relational/smaller")),n=d(a("../../type/matrix/function/matrix")),o=d(a("../matrix/trace")),p=d(a("../matrix/transpose")),q=e("norm",{number:Math.abs,Complex:function(a){return a.abs()},BigNumber:function(a){return a.abs()},"boolean | null":function(a){return Math.abs(a)},Array:function(a){return r(n(a),2)},Matrix:function(a){return r(a,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(a){return q(a)},"Array, number | BigNumber | string":function(a,b){return r(n(a),b)},"Matrix, number | BigNumber | string":function(a,b){return r(a,b)}});return q.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},q}c.name="norm",c.factory=d},{"../../type/matrix/function/matrix":89,"../arithmetic/abs":10,"../arithmetic/add":11,"../arithmetic/multiply":31,"../arithmetic/pow":35,"../arithmetic/sqrt":38,"../matrix/trace":64,"../matrix/transpose":65,"../relational/equalScalar":70,"../relational/larger":72,"../relational/smaller":74}],34:[function(a,b,c){"use strict";function d(b,c,d,g){function p(a,c){var d=b.BigNumber.precision,e=b.BigNumber.clone({precision:d+2}),f=new b.BigNumber(0),g=new e(1),h=c.isNegative();if(h&&(c=c.neg()),c.isZero())throw new Error("Root must be non-zero");if(a.isNegative()&&!c.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(a.isZero())return h?new e(1/0):0;if(!a.isFinite())return h?f:a;var i=a.abs().pow(g.div(c));return i=a.isNeg()?i.neg():i,new b.BigNumber((h?g.div(i):i).toPrecision(d))}var h=d(a("../../type/matrix/function/matrix")),i=d(a("../../type/matrix/utils/algorithm01")),j=d(a("../../type/matrix/utils/algorithm02")),k=d(a("../../type/matrix/utils/algorithm06")),l=d(a("../../type/matrix/utils/algorithm11")),m=d(a("../../type/matrix/utils/algorithm13")),n=d(a("../../type/matrix/utils/algorithm14")),o=g("nthRoot",{number:function(a){return e(a,2)},"number, number":e,BigNumber:function(a){return p(a,new b.BigNumber(2))},Complex:function(a){return f(a,2)},"Complex, number":f,"BigNumber, BigNumber":p,"Array | Matrix":function(a){return o(a,2)},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":if(1!==b.density())throw new Error("Root must be non-zero");c=k(a,b,o);break;default:c=j(b,a,o,!0)}break;default:switch(b.storage()){case"sparse":if(1!==b.density())throw new Error("Root must be non-zero");c=i(a,b,o,!1);break;default:c=m(a,b,o)}}return c},"Array, Array":function(a,b){return o(h(a),h(b)).valueOf()},"Array, Matrix":function(a,b){return o(h(a),b)},"Matrix, Array":function(a,b){return o(a,h(b))},"Matrix, number | BigNumber":function(a,b){var c;switch(a.storage()){case"sparse":c=l(a,b,o,!1);break;default:c=n(a,b,o,!1)}return c},"number | BigNumber, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":if(1!==b.density())throw new Error("Root must be non-zero");c=l(b,a,o,!0);break;default:c=n(b,a,o,!0)}return c},"Array, number | BigNumber":function(a,b){return o(h(a),b).valueOf()},"number | BigNumber, Array":function(a,b){return o(a,h(b)).valueOf()}});return o.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},o}function e(a,b){var c=b<0;if(c&&(b=-b),0===b)throw new Error("Root must be non-zero");if(a<0&&Math.abs(b)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==a)return c?1/0:0;if(!isFinite(a))return c?0:a;var d=Math.pow(Math.abs(a),1/b);return d=a<0?-d:d,c?1/d:d}function f(a,b){if(b<0)throw new Error("Root must be greater than zero");if(0===b)throw new Error("Root must be non-zero");if(b%1!==0)throw new Error("Root must be an integer");for(var c=a.arg(),d=a.abs(),e=[],f=Math.pow(d,1/b),g=0;g<b;g++)e.push({r:f,phi:(c+2*Math.PI*g)/b});return e}c.name="nthRoot",c.factory=d},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm01":92,"../../type/matrix/utils/algorithm02":93,"../../type/matrix/utils/algorithm06":97,"../../type/matrix/utils/algorithm11":101,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104}],35:[function(a,b,c){"use strict";function f(b,c,f,g){function o(a,e){if(c.predictable&&!d(e)&&a<0)try{var f=l(e),g=m(f);if((e===g||Math.abs((e-g)/e)<1e-14)&&f.d%2===1)return(f.n%2===0?1:-1)*Math.pow(-a,e)}catch(a){}return d(e)||a>=0||c.predictable?Math.pow(a,e):new b.Complex(a,0).pow(e,0)}function p(a,b){if(!d(b)||b<0)throw new TypeError("For A^b, b must be a positive integer (value is "+b+")");var c=e(a);if(2!=c.length)throw new Error("For A^b, A must be 2 dimensional (A has "+c.length+" dimensions)");if(c[0]!=c[1])throw new Error("For A^b, A must be square (size is "+c[0]+"x"+c[1]+")");for(var f=i(c[0]).valueOf(),g=a;b>=1;)1==(1&b)&&(f=j(g,f)),b>>=1,g=j(g,g);return f}function q(a,b){return k(p(a.valueOf(),b))}var h=a("../../utils/latex"),i=f(a("../matrix/eye")),j=f(a("./multiply")),k=f(a("../../type/matrix/function/matrix")),l=f(a("../../type/fraction/function/fraction")),m=f(a("../../type/number")),n=g("pow",{"number, number":o,"Complex, Complex":function(a,b){return a.pow(b)},"BigNumber, BigNumber":function(a,d){return d.isInteger()||a>=0||c.predictable?a.pow(d):new b.Complex(a.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(a,b){if(1!==b.d){if(c.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return o(a.valueOf(),b.valueOf())}return a.pow(b)},"Array, number":p,"Array, BigNumber":function(a,b){return p(a,b.toNumber())},"Matrix, number":q,"Matrix, BigNumber":function(a,b){return q(a,b.toNumber())},"Unit, number":function(a,b){return a.pow(b)}});return n.toTex={2:"\\left(${args[0]}\\right)"+h.operators.pow+"{${args[1]}}"},n}var d=a("../../utils/number").isInteger,e=a("../../utils/array").size;c.name="pow",c.factory=f},{"../../type/fraction/function/fraction":79,"../../type/matrix/function/matrix":89,"../../type/number":105,"../../utils/array":107,"../../utils/latex":116,"../../utils/number":117,"../matrix/eye":49,"./multiply":31}],36:[function(a,b,c){"use strict";function h(b,c,e,h){var j=e(a("../../type/matrix/function/matrix")),k=e(a("../relational/equalScalar")),l=e(a("../matrix/zeros")),m=e(a("../../type/matrix/utils/algorithm11")),n=e(a("../../type/matrix/utils/algorithm12")),o=e(a("../../type/matrix/utils/algorithm14")),p=h("round",{number:Math.round,"number, number":function(a,b){if(!d(b))throw new TypeError(g);if(b<0||b>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return i(a,b)},Complex:function(a){return a.round()},"Complex, number":function(a,b){if(b%1)throw new TypeError(g);return a.round(b)},"Complex, BigNumber":function(a,b){if(!b.isInteger())throw new TypeError(g);var c=b.toNumber();return a.round(c)},"number, BigNumber":function(a,c){if(!c.isInteger())throw new TypeError(g);return new b.BigNumber(a).toDecimalPlaces(c.toNumber())},BigNumber:function(a){return a.toDecimalPlaces(0)},"BigNumber, BigNumber":function(a,b){if(!b.isInteger())throw new TypeError(g);return a.toDecimalPlaces(b.toNumber())},Fraction:function(a){return a.round()},"Fraction, number":function(a,b){if(b%1)throw new TypeError(g);return a.round(b)},"Array | Matrix":function(a){return f(a,p,!0)},"Matrix, number | BigNumber":function(a,b){var c;switch(a.storage()){case"sparse":c=m(a,b,p,!1);break;default:c=o(a,b,p,!1)}return c},"number | Complex | BigNumber, Matrix":function(a,b){if(!k(a,0)){var c;switch(b.storage()){case"sparse":c=n(b,a,p,!0);break;default:c=o(b,a,p,!0)}return c}return l(b.size(),b.storage())},"Array, number | BigNumber":function(a,b){return o(j(a),b,p,!1).valueOf()},"number | Complex | BigNumber, Array":function(a,b){return o(j(b),a,p,!0).valueOf()}});return p.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},p}function i(a,b){return parseFloat(e(a,b))}var d=a("../../utils/number").isInteger,e=a("../../utils/number").toFixed,f=a("../../utils/collection/deepMap"),g="Number of decimals in function round must be an integer";c.name="round",c.factory=h},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm11":101,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm14":104,"../../utils/collection/deepMap":111,"../../utils/number":117,"../matrix/zeros":66,"../relational/equalScalar":70}],37:[function(a,b,c){"use strict";function f(a,b,c,f){var g=f("sign",{number:d.sign,Complex:function(a){return a.sign()},BigNumber:function(b){return new a.BigNumber(b.cmp(0))},Fraction:function(b){return new a.Fraction(b.s,1)},"Array | Matrix":function(a){return e(a,g,!0)},Unit:function(a){return g(a.value)}});return g.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},g}var d=a("../../utils/number"),e=a("../../utils/collection/deepMap");c.name="sign",c.factory=f},{"../../utils/collection/deepMap":111,"../../utils/number":117}],38:[function(a,b,c){"use strict";function e(a,b,c,e){function g(c){return c>=0||b.predictable?Math.sqrt(c):new a.Complex(c,0).sqrt()}var f=e("sqrt",{number:g,Complex:function(a){return a.sqrt()},BigNumber:function(a){return!a.isNegative()||b.predictable?a.sqrt():g(a.toNumber())},"Array | Matrix":function(a){return d(a,f,!0)},Unit:function(a){return a.pow(.5)}});return f.toTex={1:"\\sqrt{${args[0]}}"},f}var d=a("../../utils/collection/deepMap");c.name="sqrt",c.factory=e},{"../../utils/collection/deepMap":111}],39:[function(a,b,c){"use strict";function e(a,b,c,e){var f=e("square",{number:function(a){return a*a},Complex:function(a){return a.mul(a)},BigNumber:function(a){return a.times(a)},Fraction:function(a){return a.mul(a)},"Array | Matrix":function(a){return d(a,f,!0)},Unit:function(a){return a.pow(2)}});return f.toTex={1:"\\left(${args[0]}\\right)^2"},f}var d=a("../../utils/collection/deepMap");c.name="square",c.factory=e},{"../../utils/collection/deepMap":111}],40:[function(a,b,c){"use strict";function e(b,c,e,f){var g=a("../../utils/latex"),h=e(a("../../type/matrix/function/matrix")),i=e(a("./addScalar")),j=e(a("./unaryMinus")),k=e(a("../../type/matrix/utils/algorithm01")),l=e(a("../../type/matrix/utils/algorithm03")),m=e(a("../../type/matrix/utils/algorithm05")),n=e(a("../../type/matrix/utils/algorithm10")),o=e(a("../../type/matrix/utils/algorithm13")),p=e(a("../../type/matrix/utils/algorithm14")),q=f("subtract",{"number, number":function(a,b){return a-b},"Complex, Complex":function(a,b){return a.sub(b)},"BigNumber, BigNumber":function(a,b){return a.minus(b)},"Fraction, Fraction":function(a,b){return a.sub(b)},"Unit, Unit":function(a,b){if(null==a.value)throw new Error("Parameter x contains a unit with undefined value");if(null==b.value)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(b))throw new Error("Units do not match");var c=a.clone();return c.value=q(c.value,b.value),c.fixPrefix=!1,c},"Matrix, Matrix":function(a,b){var c=a.size(),e=b.size();if(c.length!==e.length)throw new d(c.length,e.length);var f;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":f=m(a,b,q);break;default:f=l(b,a,q,!0)}break;default:switch(b.storage()){case"sparse":f=k(a,b,q,!1);break;default:f=o(a,b,q)}}return f},"Array, Array":function(a,b){return q(h(a),h(b)).valueOf()},"Array, Matrix":function(a,b){return q(h(a),b)},"Matrix, Array":function(a,b){return q(a,h(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=n(a,j(b),i);break;default:c=p(a,b,q)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=n(b,a,q,!0);break;default:c=p(b,a,q,!0)}return c},"Array, any":function(a,b){return p(h(a),b,q,!1).valueOf()},"any, Array":function(a,b){return p(h(b),a,q,!0).valueOf()}});return q.toTex={2:"\\left(${args[0]}"+g.operators.subtract+"${args[1]}\\right)"},q}var d=a("../../error/DimensionError");c.name="subtract",c.factory=e},{"../../error/DimensionError":8,"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm01":92,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm05":96,"../../type/matrix/utils/algorithm10":100,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/latex":116,"./addScalar":12,"./unaryMinus":41}],41:[function(a,b,c){"use strict";function e(b,c,e,f){var g=a("../../utils/latex"),h=f("unaryMinus",{number:function(a){return-a},Complex:function(a){return a.neg()},BigNumber:function(a){return a.neg()},Fraction:function(a){return a.neg()},Unit:function(a){var b=a.clone();return b.value=h(a.value),b},"Array | Matrix":function(a){return d(a,h,!0)}});return h.toTex={1:g.operators.unaryMinus+"\\left(${args[0]}\\right)"},h}var d=a("../../utils/collection/deepMap");c.name="unaryMinus",c.factory=e},{"../../utils/collection/deepMap":111,"../../utils/latex":116}],42:[function(a,b,c){"use strict";function e(b,c,e,f){var g=a("../../utils/latex"),h=f("unaryPlus",{number:function(a){return a},Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":function(a){return d(a,h,!0)},"boolean | string | null":function(a){return"BigNumber"==c.number?new b.BigNumber(+a):+a}});return h.toTex={1:g.operators.unaryPlus+"\\left(${args[0]}\\right)"},h}var d=a("../../utils/collection/deepMap");c.name="unaryPlus",c.factory=e},{"../../utils/collection/deepMap":111,"../../utils/latex":116}],43:[function(a,b,c){"use strict";function e(b,c,e,f){function i(a,b){var e,f,h,i=0,j=1,k=1,l=0;if(!d(a)||!d(b))throw new Error("Parameters in function xgcd must be integer numbers");for(;b;)f=Math.floor(a/b),h=a%b,e=i,i=j-f*i,j=e,e=k,k=l-f*k,l=e,a=b,b=h;var m;return m=a<0?[-a,-j,-l]:[a,a?j:0,l],"Array"===c.matrix?m:g(m)}function j(a,d){var e,f,h,i=new b.BigNumber(0),j=new b.BigNumber(1),k=i,l=j,m=j,n=i;if(!a.isInt()||!d.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!d.isZero();)f=a.div(d).floor(),h=a.mod(d),e=k,k=l.minus(f.times(k)),l=e,e=m,m=n.minus(f.times(m)),n=e,a=d,d=h;var o;return o=a.lt(i)?[a.neg(),l.neg(),n.neg()]:[a,a.isZero()?0:l,n],"Array"===c.matrix?o:g(o)}var g=e(a("../../type/matrix/function/matrix")),h=f("xgcd",{"number, number":i,"BigNumber, BigNumber":j});return h.toTex=void 0,h}var d=a("../../utils/number").isInteger;c.name="xgcd",c.factory=e},{"../../type/matrix/function/matrix":89,"../../utils/number":117}],44:[function(a,b,c){"use strict";function i(b,c,i,k){var l=i(a("../../type/matrix/function/matrix")),m=k("concat",{"...Array | Matrix | number | BigNumber":function(a){var b,k,c=a.length,i=-1,m=!1,n=[];for(b=0;b<c;b++){var o=a[b];if(o&&o.isMatrix===!0&&(m=!0),"number"==typeof o||o&&o.isBigNumber===!0){if(b!==c-1)throw new Error("Dimension must be specified as last argument");if(k=i,i=o.valueOf(),!e(i))throw new TypeError("Integer number expected for dimension");if(i<0||b>0&&i>k)throw new g(i,k+1)}else{var p=d(o).valueOf(),q=f.size(p);if(n[b]=p,k=i,i=q.length-1,b>0&&i!=k)throw new h(k+1,i+1)}}if(0==n.length)throw new SyntaxError("At least one matrix expected");for(var r=n.shift();n.length;)r=j(r,n.shift(),i,0);return m?l(r):r},"...string":function(a){return a.join("")}});return m.toTex=void 0,m}function j(a,b,c,d){if(d<c){if(a.length!=b.length)throw new h(a.length,b.length);for(var e=[],f=0;f<a.length;f++)e[f]=j(a[f],b[f],c,d+1);return e}return a.concat(b)}var d=a("../../utils/object").clone,e=a("../../utils/number").isInteger,f=a("../../utils/array"),g=a("../../error/IndexError"),h=a("../../error/DimensionError");c.name="concat",c.factory=i},{"../../error/DimensionError":8,"../../error/IndexError":9,"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/number":117,"../../utils/object":118}],45:[function(a,b,c){"use strict";function e(b,c,e,f){function k(a,b){var c=Math.max(d.size(a).length,d.size(b).length);a=d.squeeze(a),b=d.squeeze(b);var e=d.size(a),f=d.size(b);if(1!=e.length||1!=f.length||3!=e[0]||3!=f[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+e.join(", ")+"], B = ["+f.join(", ")+"])");var g=[h(i(a[1],b[2]),i(a[2],b[1])),h(i(a[2],b[0]),i(a[0],b[2])),h(i(a[0],b[1]),i(a[1],b[0]))];return c>1?[g]:g}var g=e(a("../../type/matrix/function/matrix")),h=e(a("../arithmetic/subtract")),i=e(a("../arithmetic/multiply")),j=f("cross",{"Matrix, Matrix":function(a,b){return g(k(a.toArray(),b.toArray()))},"Matrix, Array":function(a,b){return g(k(a.toArray(),b))},"Array, Matrix":function(a,b){return g(k(a,b.toArray()))},"Array, Array":k});return j.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},j}var d=a("../../utils/array");c.name="cross",c.factory=e},{"../../type/matrix/function/matrix":89,"../../utils/array":107,"../arithmetic/multiply":31,"../arithmetic/subtract":40}],46:[function(a,b,c){"use strict";function g(b,c,d,g){function n(a,b,c){if(1==b)return e.clone(a[0][0]);if(2==b)return j(k(a[0][0],a[1][1]),k(a[1][0],a[0][1]));for(var d=function(a){var b,c,d=new Array(a.length),e=0;for(b=1;b<a.length;b++)e=i(e,a[b][b]);for(b=0;b<a.length;b++){for(d[b]=new Array(a.length),d[b][b]=l(e),c=0;c<b;c++)d[b][c]=0;for(c=b+1;c<a.length;c++)d[b][c]=a[b][c];b+1<a.length&&(e=j(e,a[b+1][b+1]))}return d},f=a,g=0;g<b-1;g++)f=k(d(f),a);return b%2==0?l(f[0][0]):f[0][0]}var h=d(a("../../type/matrix/function/matrix")),i=d(a("../arithmetic/add")),j=d(a("../arithmetic/subtract")),k=d(a("../arithmetic/multiply")),l=d(a("../arithmetic/unaryMinus")),m=g("det",{any:function(a){return e.clone(a)},"Array | Matrix":function(b){var c;switch(b&&b.isMatrix===!0?c=b.size():Array.isArray(b)?(b=h(b),c=b.size()):c=[],c.length){case 0:return e.clone(b);case 1:if(1==c[0])return e.clone(b.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+f.format(c)+")");case 2:var d=c[0],g=c[1];if(d==g)return n(b.clone().valueOf(),d,g);throw new RangeError("Matrix must be square (size: "+f.format(c)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+f.format(c)+")")}}});return m.toTex={1:"\\det\\left(${args[0]}\\right)"},m}var d=a("../../utils/index"),e=d.object,f=d.string;c.name="det",c.factory=g},{"../../type/matrix/function/matrix":89,"../../utils/index":115,"../arithmetic/add":11,"../arithmetic/multiply":31,"../arithmetic/subtract":40,"../arithmetic/unaryMinus":41}],47:[function(a,b,c){"use strict";function g(b,c,e,g){function j(a,b,c,d){if(!f(b))throw new TypeError("Second parameter in function diag must be an integer");var e=b>0?b:0,g=b<0?-b:0;switch(c.length){case 1:return k(a,b,d,c[0],g,e);case 2:return l(a,b,d,c,g,e)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function k(a,c,d,e,f,g){var h=[e+f,e+g],i=b.Matrix.storage(d||"dense"),j=i.diagonal(h,a,c);return null!==d?j:j.valueOf()}function l(a,b,c,d,e,f){if(a&&a.isMatrix===!0){var g=a.diagonal(b);return null!==c?c!==g.storage()?h(g,c):g:g.valueOf()}for(var i=Math.min(d[0]-e,d[1]-f),j=[],k=0;k<i;k++)j[k]=a[k+e][k+f];return null!==c?h(j):j}var h=e(a("../../type/matrix/function/matrix")),i=g("diag",{Array:function(a){return j(a,0,d.size(a),null)},"Array, number":function(a,b){return j(a,b,d.size(a),null)},"Array, BigNumber":function(a,b){return j(a,b.toNumber(),d.size(a),null)},"Array, string":function(a,b){return j(a,0,d.size(a),b)},"Array, number, string":function(a,b,c){return j(a,b,d.size(a),c)},"Array, BigNumber, string":function(a,b,c){return j(a,b.toNumber(),d.size(a),c)},Matrix:function(a){return j(a,0,a.size(),a.storage())},"Matrix, number":function(a,b){return j(a,b,a.size(),a.storage())},"Matrix, BigNumber":function(a,b){return j(a,b.toNumber(),a.size(),a.storage())},"Matrix, string":function(a,b){return j(a,0,a.size(),b)},"Matrix, number, string":function(a,b,c){return j(a,b,a.size(),c)},"Matrix, BigNumber, string":function(a,b,c){return j(a,b.toNumber(),a.size(),c)}});return i.toTex=void 0,i}var d=a("../../utils/array"),f=(a("../../utils/object").clone,a("../../utils/number").isInteger);c.name="diag",c.factory=g},{"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/number":117,"../../utils/object":118}],48:[function(a,b,c){"use strict";function e(b,c,e,f){function j(a,b){var c=d(a),e=d(b),f=c[0];if(1!==c.length||1!==e.length)throw new RangeError("Vector expected");if(c[0]!=e[0])throw new RangeError("Vectors must have equal length ("+c[0]+" != "+e[0]+")");if(0==f)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var i=0,j=0;j<f;j++)i=g(i,h(a[j],b[j]));return i}var g=e(a("../arithmetic/add")),h=e(a("../arithmetic/multiply")),i=f("dot",{"Matrix, Matrix":function(a,b){return j(a.toArray(),b.toArray())},"Matrix, Array":function(a,b){return j(a.toArray(),b)},"Array, Matrix":function(a,b){return j(a,b.toArray())},"Array, Array":j});return i.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},i}var d=a("../../utils/array").size;c.name="dot",c.factory=e},{"../../utils/array":107,"../arithmetic/add":11,"../arithmetic/multiply":31}],49:[function(a,b,c){"use strict";function f(b,c,f,g){function j(a,b){switch(a.length){case 0:return b?h(b):[];case 1:return k(a[0],a[0],b);case 2:return k(a[0],a[1],b);default:throw new Error("Vector containing two values expected")}}function k(a,c,f){var g=a&&a.isBigNumber===!0?b.BigNumber:c&&c.isBigNumber===!0?b.BigNumber:null;if(a&&a.isBigNumber===!0&&(a=a.toNumber()),c&&c.isBigNumber===!0&&(c=c.toNumber()),!e(a)||a<1)throw new Error("Parameters in function eye must be positive integers");if(!e(c)||c<1)throw new Error("Parameters in function eye must be positive integers");var h=g?new b.BigNumber(1):1,i=g?new g(0):0,j=[a,c];if(f){var k=b.Matrix.storage(f);return k.diagonal(j,h,0,i)}for(var l=d.resize([],j,i),m=a<c?a:c,n=0;n<m;n++)l[n][n]=h;return l}var h=f(a("../../type/matrix/function/matrix")),i=g("eye",{"":function(){return"Matrix"===c.matrix?h([]):[]},string:function(a){return h(a)},"number | BigNumber":function(a){return k(a,a,"Matrix"===c.matrix?"default":void 0)},"number | BigNumber, string":function(a,b){return k(a,a,b)},"number | BigNumber, number | BigNumber":function(a,b){return k(a,b,"Matrix"===c.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(a,b,c){return k(a,b,c)},Array:function(a){return j(a)},"Array, string":function(a,b){return j(a,b)},Matrix:function(a){return j(a.valueOf(),a.storage())},"Matrix, string":function(a,b){return j(a.valueOf(),b)}});return i.toTex=void 0,i}var d=a("../../utils/array"),e=a("../../utils/number").isInteger;c.name="eye",c.factory=f},{"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/number":117}],50:[function(a,b,c){"use strict";function f(b,c,d,e){var f=d(a("../../type/matrix/function/matrix")),i=e("filter",{"Array, function":g,"Array, RegExp":h,"Matrix, function":function(a,b){return f(g(a.toArray(),b))},"Matrix, RegExp":function(a,b){return f(h(a.toArray(),b))}});return i.toTex=void 0,i}function g(a,b){if(1!==d(a).length)throw new Error("Only one dimensional matrices supported");var c=e(b);return a.filter(function(a,d,e){return 1===c?b(a):2===c?b(a,[d]):b(a,[d],e);
})}function h(a,b){if(1!==d(a).length)throw new Error("Only one dimensional matrices supported");return a.filter(function(a){return b.test(a)})}var d=a("../../utils/array").size,e=a("../../utils/function").maxArgumentCount;c.name="filter",c.factory=f},{"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/function":114}],51:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../type/matrix/function/matrix")),i=g("flatten",{Array:function(a){return e(d(a))},Matrix:function(a){var b=e(d(a.toArray()));return h(b)}});return i.toTex=void 0,i}var d=a("../../utils/object").clone,e=a("../../utils/array").flatten;c.name="flatten",c.factory=f},{"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/object":118}],52:[function(a,b,c){"use strict";function e(a,b,c,d){var e=d("forEach",{"Array, function":f,"Matrix, function":function(a,b){return a.forEach(b)}});return e.toTex=void 0,e}function f(a,b){var c=d(b),e=function(d,f){Array.isArray(d)?d.forEach(function(a,b){e(a,f.concat(b))}):1===c?b(d):2===c?b(d,f):b(d,f,a)};e(a,[])}var d=a("../../utils/function").maxArgumentCount;c.name="forEach",c.factory=e},{"../../utils/function":114}],53:[function(a,b,c){b.exports=[a("./concat"),a("./cross"),a("./det"),a("./diag"),a("./dot"),a("./eye"),a("./filter"),a("./flatten"),a("./forEach"),a("./inv"),a("./map"),a("./ones"),a("./partitionSelect"),a("./range"),a("./resize"),a("./size"),a("./sort"),a("./squeeze"),a("./subset"),a("./trace"),a("./transpose"),a("./zeros")]},{"./concat":44,"./cross":45,"./det":46,"./diag":47,"./dot":48,"./eye":49,"./filter":50,"./flatten":51,"./forEach":52,"./inv":54,"./map":55,"./ones":56,"./partitionSelect":57,"./range":58,"./resize":59,"./size":60,"./sort":61,"./squeeze":62,"./subset":63,"./trace":64,"./transpose":65,"./zeros":66}],54:[function(a,b,c){"use strict";function e(b,c,e,f){function o(a,b,c){var d,e,f,g,n;if(1==b){if(g=a[0][0],0==g)throw Error("Cannot calculate inverse, determinant is zero");return[[h(1,g)]]}if(2==b){var o=l(a);if(0==o)throw Error("Cannot calculate inverse, determinant is zero");return[[h(a[1][1],o),h(k(a[0][1]),o)],[h(k(a[1][0]),o),h(a[0][0],o)]]}var p=a.concat();for(d=0;d<b;d++)p[d]=p[d].concat();for(var q=m(b).valueOf(),r=0;r<c;r++){for(d=r;d<b&&0==p[d][r];)d++;if(d==b||0==p[d][r])throw Error("Cannot calculate inverse, determinant is zero");d!=r&&(n=p[r],p[r]=p[d],p[d]=n,n=q[r],q[r]=q[d],q[d]=n);var s=p[r],t=q[r];for(d=0;d<b;d++){var u=p[d],v=q[d];if(d!=r){if(0!=u[r]){for(f=h(k(u[r]),s[r]),e=r;e<c;e++)u[e]=i(u[e],j(f,s[e]));for(e=0;e<c;e++)v[e]=i(v[e],j(f,t[e]))}}else{for(f=s[r],e=r;e<c;e++)u[e]=h(u[e],f);for(e=0;e<c;e++)v[e]=h(v[e],f)}}}return q}var g=e(a("../../type/matrix/function/matrix")),h=e(a("../arithmetic/divideScalar")),i=e(a("../arithmetic/addScalar")),j=e(a("../arithmetic/multiply")),k=e(a("../arithmetic/unaryMinus")),l=e(a("../matrix/det")),m=e(a("./eye")),n=f("inv",{"Array | Matrix":function(a){var b=a.isMatrix===!0?a.size():d.array.size(a);switch(b.length){case 1:if(1==b[0])return a.isMatrix===!0?g([h(1,a.valueOf()[0])]):[h(1,a[0])];throw new RangeError("Matrix must be square (size: "+d.string.format(b)+")");case 2:var c=b[0],e=b[1];if(c==e)return a.isMatrix===!0?g(o(a.valueOf(),c,e),a.storage()):o(a,c,e);throw new RangeError("Matrix must be square (size: "+d.string.format(b)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+d.string.format(b)+")")}},any:function(a){return h(1,a)}});return n.toTex={1:"\\left(${args[0]}\\right)^{-1}"},n}var d=a("../../utils/index");c.name="inv",c.factory=e},{"../../type/matrix/function/matrix":89,"../../utils/index":115,"../arithmetic/addScalar":12,"../arithmetic/divideScalar":17,"../arithmetic/multiply":31,"../arithmetic/unaryMinus":41,"../matrix/det":46,"./eye":49}],55:[function(a,b,c){"use strict";function e(a,b,c,d){var e=d("map",{"Array, function":f,"Matrix, function":function(a,b){return a.map(b)}});return e.toTex=void 0,e}function f(a,b){var c=d(b),e=function(d,f){return Array.isArray(d)?d.map(function(a,b){return e(a,f.concat(b))}):1===c?b(d):2===c?b(d,f):b(d,f,a)};return e(a,[])}var d=a("../../utils/function").maxArgumentCount;c.name="map",c.factory=e},{"../../utils/function":114}],56:[function(a,b,c){"use strict";function f(b,c,f,g){function j(a,c){var d=k(a),f=d?new b.BigNumber(1):1;if(l(a),c){var g=h(c);return a.length>0?g.resize(a,f):g}var i=[];return a.length>0?e(i,a,f):i}function k(a){var b=!1;return a.forEach(function(a,c,d){a&&a.isBigNumber===!0&&(b=!0,d[c]=a.toNumber())}),b}function l(a){a.forEach(function(a){if("number"!=typeof a||!d(a)||a<0)throw new Error("Parameters in function ones must be positive integers")})}var h=f(a("../../type/matrix/function/matrix")),i=g("ones",{"":function(){return"Array"===c.matrix?j([]):j([],"default")},"...number | BigNumber | string":function(a){var b=a[a.length-1];if("string"==typeof b){var d=a.pop();return j(a,d)}return"Array"===c.matrix?j(a):j(a,"default")},Array:j,Matrix:function(a){var b=a.storage();return j(a.valueOf(),b)},"Array | Matrix, string":function(a,b){return j(a.valueOf(),b)}});return i.toTex=void 0,i}var d=a("../../utils/number").isInteger,e=a("../../utils/array").resize;c.name="ones",c.factory=f},{"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/number":117}],57:[function(a,b,c){"use strict";function e(b,c,e,f){function h(a,b){return-g(a,b)}function i(a,b,c){if(!d(b)||b<0)throw new Error("k must be a non-negative integer");if(a&&a.isMatrix){var e=a.size();if(e.length>1)throw new Error("Only one dimensional matrices supported");return j(a.valueOf(),b,c)}if(Array.isArray(a))return j(a,b,c)}function j(a,b,c){if(b>=a.length)throw new Error("k out of bounds");for(var d=0,e=a.length-1;d<e;){for(var f=d,g=e,h=a[Math.floor(Math.random()*(e-d+1))+d];f<g;)if(c(a[f],h)>=0){var i=a[g];a[g]=a[f],a[f]=i,--g}else++f;c(a[f],h)>0&&--f,b<=f?e=f:d=f+1}return a[b]}var g=e(a("../relational/compare"));return f("partitionSelect",{"Array | Matrix, number":function(a,b){return i(a,b,g)},"Array | Matrix, number, string":function(a,b,c){if("asc"===c)return i(a,b,g);if("desc"===c)return i(a,b,h);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":i})}var d=a("../../utils/number").isInteger;c.name="partitionSelect",c.factory=e},{"../../utils/number":117,"../relational/compare":67}],58:[function(a,b,c){"use strict";function d(b,c,d,e){function j(a){return"Array"===c.matrix?a:f(a)}function k(a,d){var e=p(a);if(!e)throw new SyntaxError('String "'+a+'" is no valid range');var f;return"BigNumber"===c.number?(f=d?o:n,j(f(new b.BigNumber(e.start),new b.BigNumber(e.end),new b.BigNumber(e.step)))):(f=d?m:l,j(f(e.start,e.end,e.step)))}function l(a,b,c){var d=[],e=a;if(c>0)for(;e<b;)d.push(e),e+=c;else if(c<0)for(;e>b;)d.push(e),e+=c;return d}function m(a,b,c){var d=[],e=a;if(c>0)for(;e<=b;)d.push(e),e+=c;else if(c<0)for(;e>=b;)d.push(e),e+=c;return d}function n(a,b,c){var d=[],e=a;if(c.gt(g))for(;e.lt(b);)d.push(e),e=e.plus(c);else if(c.lt(g))for(;e.gt(b);)d.push(e),e=e.plus(c);return d}function o(a,b,c){var d=[],e=a;if(c.gt(g))for(;e.lte(b);)d.push(e),e=e.plus(c);else if(c.lt(g))for(;e.gte(b);)d.push(e),e=e.plus(c);return d}function p(a){var b=a.split(":"),c=b.map(function(a){return Number(a)}),d=c.some(function(a){return isNaN(a)});if(d)return null;switch(c.length){case 2:return{start:c[0],end:c[1],step:1};case 3:return{start:c[0],end:c[2],step:c[1]};default:return null}}var f=d(a("../../type/matrix/function/matrix")),g=new b.BigNumber(0),h=new b.BigNumber(1),i=e("range",{string:k,"string, boolean":k,"number, number":function(a,b){return j(l(a,b,1))},"number, number, number":function(a,b,c){return j(l(a,b,c))},"number, number, boolean":function(a,b,c){return j(c?m(a,b,1):l(a,b,1))},"number, number, number, boolean":function(a,b,c,d){return j(d?m(a,b,c):l(a,b,c))},"BigNumber, BigNumber":function(a,b){return j(n(a,b,h))},"BigNumber, BigNumber, BigNumber":function(a,b,c){return j(n(a,b,c))},"BigNumber, BigNumber, boolean":function(a,b,c){return j(c?o(a,b,h):n(a,b,h))},"BigNumber, BigNumber, BigNumber, boolean":function(a,b,c,d){return j(d?o(a,b,c):n(a,b,c))}});return i.toTex=void 0,i}c.name="range",c.factory=d},{"../../type/matrix/function/matrix":89}],59:[function(a,b,c){"use strict";function j(b,c,j,k){function n(a,b,c){if(void 0!==c){if("string"!=typeof c||1!==c.length)throw new TypeError("Single character expected as defaultValue")}else c=" ";if(1!==b.length)throw new d(b.length,1);var e=b[0];if("number"!=typeof e||!f(e))throw new TypeError("Invalid size, must contain positive integers (size: "+g(b)+")");if(a.length>e)return a.substring(0,e);if(a.length<e){for(var h=a,i=0,j=e-a.length;i<j;i++)h+=c;return h}return a}var l=j(a("../../type/matrix/function/matrix")),m=function(b,d,f){if(2!=arguments.length&&3!=arguments.length)throw new e("resize",arguments.length,2,3);if(d&&d.isMatrix===!0&&(d=d.valueOf()),d.length&&d[0]&&d[0].isBigNumber===!0&&(d=d.map(function(a){return a&&a.isBigNumber===!0?a.toNumber():a})),b&&b.isMatrix===!0)return b.resize(d,f,!0);if("string"==typeof b)return n(b,d,f);var g=!Array.isArray(b)&&"Array"!==c.matrix;if(0==d.length){for(;Array.isArray(b);)b=b[0];return h(b)}Array.isArray(b)||(b=[b]),b=h(b);var j=i.resize(b,d,f);return g?l(j):j};return m.toTex=void 0,m}var d=a("../../error/DimensionError"),e=a("../../error/ArgumentsError"),f=a("../../utils/number").isInteger,g=a("../../utils/string").format,h=a("../../utils/object").clone,i=a("../../utils/array");c.name="resize",c.factory=j},{"../../error/ArgumentsError":7,"../../error/DimensionError":8,"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/number":117,"../../utils/object":118,"../../utils/string":119}],60:[function(a,b,c){"use strict";function e(b,c,e,f){var g=e(a("../../type/matrix/function/matrix")),h=f("size",{Matrix:function(a){return g(a.size())},Array:d.size,string:function(a){return"Array"===c.matrix?[a.length]:g([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return"Array"===c.matrix?[]:g([])}});return h.toTex=void 0,h}var d=a("../../utils/array");c.name="size",c.factory=e},{"../../type/matrix/function/matrix":89,"../../utils/array":107}],61:[function(a,b,c){"use strict";function e(b,c,e,f){function k(a){if("asc"===a)return h;if("desc"===a)return i;throw new Error('String "asc" or "desc" expected')}function l(a){if(1!==d(a).length)throw new Error("One dimensional array expected")}function m(a){if(1!==a.size().length)throw new Error("One dimensional matrix expected")}var g=e(a("../../type/matrix/function/matrix")),h=e(a("../relational/compare")),i=function(a,b){return-h(a,b)},j=f("sort",{Array:function(a){return l(a),a.sort(h)},Matrix:function(a){return m(a),g(a.toArray().sort(h),a.storage())},"Array, function":function(a,b){return l(a),a.sort(b)},"Matrix, function":function(a,b){return m(a),g(a.toArray().sort(b),a.storage())},"Array, string":function(a,b){return l(a),a.sort(k(b))},"Matrix, string":function(a,b){return m(a),g(a.toArray().sort(k(b)),a.storage())}});return j.toTex=void 0,j}var d=a("../../utils/array").size;c.name="sort",c.factory=e},{"../../type/matrix/function/matrix":89,"../../utils/array":107,"../relational/compare":67}],62:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../type/matrix/function/matrix")),i=g("squeeze",{Array:function(a){return e.squeeze(d.clone(a))},Matrix:function(a){var b=e.squeeze(a.toArray());return Array.isArray(b)?h(b):b},any:function(a){return d.clone(a)}});return i.toTex=void 0,i}var d=a("../../utils/object"),e=a("../../utils/array");c.name="squeeze",c.factory=f},{"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/object":118}],63:[function(a,b,c){"use strict";function g(b,c,g,j){function m(a,b){if(!b||b.isIndex!==!0)throw new TypeError("Index expected");if(1!=b.size().length)throw new f(b.size().length,1);var c=a.length;e(b.min()[0],c),e(b.max()[0],c);var d=b.dimension(0),g="";return d.forEach(function(b){g+=a.charAt(b)}),g}function n(a,b,c,d){if(!b||b.isIndex!==!0)throw new TypeError("Index expected");if(1!=b.size().length)throw new f(b.size().length,1);if(void 0!==d){if("string"!=typeof d||1!==d.length)throw new TypeError("Single character expected as defaultValue")}else d=" ";var g=b.dimension(0),h=g.size()[0];if(h!=c.length)throw new f(g.size()[0],c.length);var i=a.length;e(b.min()[0]),e(b.max()[0]);for(var j=[],k=0;k<i;k++)j[k]=a.charAt(k);if(g.forEach(function(a,b){j[a]=c.charAt(b[0])}),j.length>i)for(k=i-1,h=j.length;k<h;k++)j[k]||(j[k]=d);return j.join("")}var k=g(a("../../type/matrix/function/matrix")),l=j("subset",{"Array, Index":function(a,b){var c=k(a),d=c.subset(b);return d&&d.valueOf()},"Matrix, Index":function(a,b){return a.subset(b)},"Object, Index":h,"string, Index":m,"Array, Index, any":function(a,b,c){return k(d(a)).subset(b,c,void 0).valueOf()},"Array, Index, any, any":function(a,b,c,e){return k(d(a)).subset(b,c,e).valueOf()},"Matrix, Index, any":function(a,b,c){return a.clone().subset(b,c)},"Matrix, Index, any, any":function(a,b,c,d){return a.clone().subset(b,c,d)},"string, Index, string":n,"string, Index, string, string":n,"Object, Index, any":i});return l.toTex=void 0,l}function h(a,b){if(1!==b.size().length)throw new f(b.size(),1);var c=b.dimension(0);if("string"!=typeof c)throw new TypeError("String expected as index to retrieve an object property");return a[c]}function i(a,b,c){if(1!==b.size().length)throw new f(b.size(),1);var e=b.dimension(0);if("string"!=typeof e)throw new TypeError("String expected as index to retrieve an object property");var g=d(a);return g[e]=c,g}var d=a("../../utils/object").clone,e=a("../../utils/array").validateIndex,f=a("../../error/DimensionError");c.name="subset",c.factory=g},{"../../error/DimensionError":8,"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/object":118}],64:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../type/matrix/function/matrix")),i=f(a("../arithmetic/add")),j=g("trace",{Array:function(a){return j(h(a))},Matrix:function(a){var b;switch(a.storage()){case"dense":b=k(a);break;case"sparse":b=l(a)}return b},any:d}),k=function(a){var b=a._size,c=a._data;switch(b.length){case 1:if(1==b[0])return d(c[0]);throw new RangeError("Matrix must be square (size: "+e(b)+")");case 2:var f=b[0],g=b[1];if(f===g){for(var h=0,j=0;j<f;j++)h=i(h,c[j][j]);return h}throw new RangeError("Matrix must be square (size: "+e(b)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+e(b)+")")}},l=function(a){var b=a._values,c=a._index,d=a._ptr,f=a._size,g=f[0],h=f[1];if(g===h){var j=0;if(b.length>0)for(var k=0;k<h;k++)for(var l=d[k],m=d[k+1],n=l;n<m;n++){var o=c[n];if(o===k){j=i(j,b[n]);break}if(o>k)break}return j}throw new RangeError("Matrix must be square (size: "+e(f)+")")};return j.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},j}var d=a("../../utils/object").clone,e=a("../../utils/string").format;c.name="trace",c.factory=f},{"../../type/matrix/function/matrix":89,"../../utils/object":118,"../../utils/string":119,"../arithmetic/add":11}],65:[function(a,b,c){"use strict";function f(b,c,f,g){var h=a("../../utils/latex"),i=f(a("../../type/matrix/function/matrix")),j=b.DenseMatrix,k=b.SparseMatrix,l=g("transpose",{Array:function(a){return l(i(a)).valueOf()},Matrix:function(a){var c,b=a.size();switch(b.length){case 1:c=a.clone();break;case 2:var d=b[0],f=b[1];if(0===f)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+e(b)+")");switch(a.storage()){case"dense":c=m(a,d,f);break;case"sparse":c=n(a,d,f)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+e(this._size)+")")}return c},any:function(a){return d(a)}}),m=function(a,b,c){for(var g,e=a._data,f=[],h=0;h<c;h++){g=f[h]=[];for(var i=0;i<b;i++)g[i]=d(e[i][h])}return new j({data:f,size:[c,b],datatype:a._datatype})},n=function(a,b,c){for(var e=a._values,f=a._index,g=a._ptr,h=e?[]:void 0,i=[],j=[],l=[],m=0;m<b;m++)l[m]=0;var n,o,p;for(n=0,o=f.length;n<o;n++)l[f[n]]++;for(var q=0,r=0;r<b;r++)j.push(q),q+=l[r],l[r]=j[r];for(j.push(q),p=0;p<c;p++)for(var s=g[p],t=g[p+1],u=s;u<t;u++){var v=l[f[u]]++;i[v]=p,e&&(h[v]=d(e[u]))}return new k({values:h,index:i,ptr:j,size:[c,b],datatype:a._datatype})};return l.toTex={1:"\\left(${args[0]}\\right)"+h.operators.transpose},l}var d=a("../../utils/object").clone,e=a("../../utils/string").format;c.name="transpose",c.factory=f},{"../../type/matrix/function/matrix":89,"../../utils/latex":116,"../../utils/object":118,"../../utils/string":119}],66:[function(a,b,c){"use strict";function f(b,c,f,g){function j(a,c){var d=k(a),f=d?new b.BigNumber(0):0;if(l(a),c){var g=h(c);return a.length>0?g.resize(a,f):g}var i=[];return a.length>0?e(i,a,f):i}function k(a){var b=!1;return a.forEach(function(a,c,d){a&&a.isBigNumber===!0&&(b=!0,d[c]=a.toNumber())}),b}function l(a){a.forEach(function(a){if("number"!=typeof a||!d(a)||a<0)throw new Error("Parameters in function zeros must be positive integers")})}var h=f(a("../../type/matrix/function/matrix")),i=g("zeros",{"":function(){return"Array"===c.matrix?j([]):j([],"default")},"...number | BigNumber | string":function(a){var b=a[a.length-1];if("string"==typeof b){var d=a.pop();return j(a,d)}return"Array"===c.matrix?j(a):j(a,"default")},Array:j,Matrix:function(a){var b=a.storage();return j(a.valueOf(),b)},"Array | Matrix, string":function(a,b){return j(a.valueOf(),b)}});return i.toTex=void 0,i}var d=a("../../utils/number").isInteger,e=a("../../utils/array").resize;c.name="zeros",c.factory=f},{"../../type/matrix/function/matrix":89,"../../utils/array":107,"../../utils/number":117}],67:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../type/matrix/function/matrix")),i=f(a("../../type/matrix/utils/algorithm03")),j=f(a("../../type/matrix/utils/algorithm05")),k=f(a("../../type/matrix/utils/algorithm12")),l=f(a("../../type/matrix/utils/algorithm13")),m=f(a("../../type/matrix/utils/algorithm14")),n=g("compare",{"boolean, boolean":function(a,b){return a===b?0:a>b?1:-1},"number, number":function(a,b){return a===b||d(a,b,c.epsilon)?0:a>b?1:-1},"BigNumber, BigNumber":function(a,d){return a.eq(d)||e(a,d,c.epsilon)?new b.BigNumber(0):new b.BigNumber(a.cmp(d))},"Fraction, Fraction":function(a,c){return new b.Fraction(a.compare(c))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(a,b){if(!a.equalBase(b))throw new Error("Cannot compare units with different base");return n(a.value,b.value)},"string, string":function(a,b){return a===b?0:a>b?1:-1},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=j(a,b,n);break;default:c=i(b,a,n,!0)}break;default:switch(b.storage()){case"sparse":c=i(a,b,n,!1);break;default:c=l(a,b,n)}}return c},"Array, Array":function(a,b){return n(h(a),h(b)).valueOf()},"Array, Matrix":function(a,b){return n(h(a),b)},"Matrix, Array":function(a,b){return n(a,h(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,n,!1);break;default:c=m(a,b,n,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=k(b,a,n,!0);break;default:c=m(b,a,n,!0)}return c},"Array, any":function(a,b){return m(h(a),b,n,!1).valueOf()},"any, Array":function(a,b){return m(h(b),a,n,!0).valueOf()}});return n.toTex=void 0,n}var d=a("../../utils/number").nearlyEqual,e=a("../../utils/bignumber/nearlyEqual");c.name="compare",c.factory=f},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm05":96,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/bignumber/nearlyEqual":109,"../../utils/number":117}],68:[function(a,b,c){"use strict";function d(b,c,d,e){function h(a,b){if(Array.isArray(a)){if(Array.isArray(b)){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(!h(a[d],b[d]))return!1;return!0}return!1}return!Array.isArray(b)&&f(a,b)}var f=d(a("./equal")),g=e("deepEqual",{"any, any":function(a,b){return h(a.valueOf(),b.valueOf())}});return g.toTex=void 0,g}c.name="deepEqual",c.factory=d},{"./equal":69}],69:[function(a,b,c){"use strict";function d(b,c,d,e){var f=d(a("../../type/matrix/function/matrix")),g=d(a("./equalScalar")),h=d(a("../../type/matrix/utils/algorithm03")),i=d(a("../../type/matrix/utils/algorithm07")),j=d(a("../../type/matrix/utils/algorithm12")),k=d(a("../../type/matrix/utils/algorithm13")),l=d(a("../../type/matrix/utils/algorithm14")),m=a("../../utils/latex"),n=e("equal",{"any, any":function(a,b){return null===a?null===b:null===b?null===a:void 0===a?void 0===b:void 0===b?void 0===a:g(a,b)},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=i(a,b,g);break;default:c=h(b,a,g,!0)}break;default:switch(b.storage()){case"sparse":c=h(a,b,g,!1);break;default:c=k(a,b,g)}}return c},"Array, Array":function(a,b){return n(f(a),f(b)).valueOf()},"Array, Matrix":function(a,b){return n(f(a),b)},"Matrix, Array":function(a,b){return n(a,f(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=j(a,b,g,!1);break;default:c=l(a,b,g,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=j(b,a,g,!0);break;default:c=l(b,a,g,!0)}return c},"Array, any":function(a,b){return l(f(a),b,g,!1).valueOf()},"any, Array":function(a,b){return l(f(b),a,g,!0).valueOf()}});return n.toTex={2:"\\left(${args[0]}"+m.operators.equal+"${args[1]}\\right)"},n}c.name="equal",c.factory=d},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm07":98,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/latex":116,"./equalScalar":70}],70:[function(a,b,c){"use strict";function f(a,b,c,f){var g=f("equalScalar",{"boolean, boolean":function(a,b){return a===b},"number, number":function(a,c){return a===c||d(a,c,b.epsilon)},"BigNumber, BigNumber":function(a,c){return a.eq(c)||e(a,c,b.epsilon)},"Fraction, Fraction":function(a,b){return a.equals(b)},"Complex, Complex":function(a,b){return a.equals(b)},"Unit, Unit":function(a,b){if(!a.equalBase(b))throw new Error("Cannot compare units with different base");return g(a.value,b.value)},"string, string":function(a,b){return a===b}});return g}var d=a("../../utils/number").nearlyEqual,e=a("../../utils/bignumber/nearlyEqual");c.factory=f},{"../../utils/bignumber/nearlyEqual":109,"../../utils/number":117}],71:[function(a,b,c){b.exports=[a("./compare"),a("./deepEqual"),a("./equal"),a("./larger"),a("./largerEq"),a("./smaller"),a("./smallerEq"),a("./unequal")]},{"./compare":67,"./deepEqual":68,"./equal":69,"./larger":72,"./largerEq":73,"./smaller":74,"./smallerEq":75,"./unequal":76}],72:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../type/matrix/function/matrix")),i=f(a("../../type/matrix/utils/algorithm03")),j=f(a("../../type/matrix/utils/algorithm07")),k=f(a("../../type/matrix/utils/algorithm12")),l=f(a("../../type/matrix/utils/algorithm13")),m=f(a("../../type/matrix/utils/algorithm14")),n=a("../../utils/latex"),o=g("larger",{"boolean, boolean":function(a,b){return a>b},"number, number":function(a,b){return a>b&&!d(a,b,c.epsilon)},"BigNumber, BigNumber":function(a,b){return a.gt(b)&&!e(a,b,c.epsilon)},"Fraction, Fraction":function(a,b){return 1===a.compare(b)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(a,b){if(!a.equalBase(b))throw new Error("Cannot compare units with different base");return o(a.value,b.value)},"string, string":function(a,b){return a>b},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=j(a,b,o);break;default:c=i(b,a,o,!0)}break;default:switch(b.storage()){case"sparse":c=i(a,b,o,!1);break;default:c=l(a,b,o)}}return c},"Array, Array":function(a,b){return o(h(a),h(b)).valueOf()},"Array, Matrix":function(a,b){return o(h(a),b)},"Matrix, Array":function(a,b){return o(a,h(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,o,!1);break;default:c=m(a,b,o,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=k(b,a,o,!0);break;default:c=m(b,a,o,!0)}return c},"Array, any":function(a,b){return m(h(a),b,o,!1).valueOf()},"any, Array":function(a,b){return m(h(b),a,o,!0).valueOf()}});return o.toTex={2:"\\left(${args[0]}"+n.operators.larger+"${args[1]}\\right)"},o}var d=a("../../utils/number").nearlyEqual,e=a("../../utils/bignumber/nearlyEqual");c.name="larger",c.factory=f},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm07":98,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/bignumber/nearlyEqual":109,"../../utils/latex":116,"../../utils/number":117}],73:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../type/matrix/function/matrix")),i=f(a("../../type/matrix/utils/algorithm03")),j=f(a("../../type/matrix/utils/algorithm07")),k=f(a("../../type/matrix/utils/algorithm12")),l=f(a("../../type/matrix/utils/algorithm13")),m=f(a("../../type/matrix/utils/algorithm14")),n=a("../../utils/latex"),o=g("largerEq",{"boolean, boolean":function(a,b){return a>=b},"number, number":function(a,b){return a>=b||d(a,b,c.epsilon)},"BigNumber, BigNumber":function(a,b){return a.gte(b)||e(a,b,c.epsilon)},"Fraction, Fraction":function(a,b){return a.compare(b)!==-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(a,b){if(!a.equalBase(b))throw new Error("Cannot compare units with different base");return o(a.value,b.value)},"string, string":function(a,b){return a>=b},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=j(a,b,o);break;default:c=i(b,a,o,!0)}break;default:switch(b.storage()){case"sparse":c=i(a,b,o,!1);break;default:c=l(a,b,o)}}return c},"Array, Array":function(a,b){return o(h(a),h(b)).valueOf()},"Array, Matrix":function(a,b){return o(h(a),b)},"Matrix, Array":function(a,b){return o(a,h(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,o,!1);break;default:c=m(a,b,o,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=k(b,a,o,!0);break;default:c=m(b,a,o,!0)}return c},"Array, any":function(a,b){return m(h(a),b,o,!1).valueOf()},"any, Array":function(a,b){return m(h(b),a,o,!0).valueOf()}});return o.toTex={2:"\\left(${args[0]}"+n.operators.largerEq+"${args[1]}\\right)"},o}var d=a("../../utils/number").nearlyEqual,e=a("../../utils/bignumber/nearlyEqual");c.name="largerEq",c.factory=f},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm07":98,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/bignumber/nearlyEqual":109,"../../utils/latex":116,"../../utils/number":117}],74:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../type/matrix/function/matrix")),i=f(a("../../type/matrix/utils/algorithm03")),j=f(a("../../type/matrix/utils/algorithm07")),k=f(a("../../type/matrix/utils/algorithm12")),l=f(a("../../type/matrix/utils/algorithm13")),m=f(a("../../type/matrix/utils/algorithm14")),n=a("../../utils/latex"),o=g("smaller",{"boolean, boolean":function(a,b){return a<b},"number, number":function(a,b){return a<b&&!d(a,b,c.epsilon)},"BigNumber, BigNumber":function(a,b){return a.lt(b)&&!e(a,b,c.epsilon)},"Fraction, Fraction":function(a,b){return a.compare(b)===-1},"Complex, Complex":function(a,b){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(a,b){if(!a.equalBase(b))throw new Error("Cannot compare units with different base");return o(a.value,b.value)},"string, string":function(a,b){return a<b},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=j(a,b,o);break;default:c=i(b,a,o,!0)}break;default:switch(b.storage()){case"sparse":c=i(a,b,o,!1);break;default:c=l(a,b,o)}}return c},"Array, Array":function(a,b){return o(h(a),h(b)).valueOf()},"Array, Matrix":function(a,b){return o(h(a),b)},"Matrix, Array":function(a,b){return o(a,h(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,o,!1);break;default:c=m(a,b,o,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=k(b,a,o,!0);break;default:c=m(b,a,o,!0)}return c},"Array, any":function(a,b){return m(h(a),b,o,!1).valueOf()},"any, Array":function(a,b){return m(h(b),a,o,!0).valueOf()}});return o.toTex={2:"\\left(${args[0]}"+n.operators.smaller+"${args[1]}\\right)"},o}var d=a("../../utils/number").nearlyEqual,e=a("../../utils/bignumber/nearlyEqual");c.name="smaller",c.factory=f},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm07":98,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/bignumber/nearlyEqual":109,"../../utils/latex":116,"../../utils/number":117}],75:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../type/matrix/function/matrix")),i=f(a("../../type/matrix/utils/algorithm03")),j=f(a("../../type/matrix/utils/algorithm07")),k=f(a("../../type/matrix/utils/algorithm12")),l=f(a("../../type/matrix/utils/algorithm13")),m=f(a("../../type/matrix/utils/algorithm14")),n=a("../../utils/latex"),o=g("smallerEq",{"boolean, boolean":function(a,b){return a<=b},"number, number":function(a,b){return a<=b||d(a,b,c.epsilon)},"BigNumber, BigNumber":function(a,b){return a.lte(b)||e(a,b,c.epsilon)},"Fraction, Fraction":function(a,b){return 1!==a.compare(b)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(a,b){if(!a.equalBase(b))throw new Error("Cannot compare units with different base");return o(a.value,b.value)},"string, string":function(a,b){return a<=b},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=j(a,b,o);break;default:c=i(b,a,o,!0)}break;default:switch(b.storage()){case"sparse":c=i(a,b,o,!1);break;default:c=l(a,b,o)}}return c},"Array, Array":function(a,b){return o(h(a),h(b)).valueOf()},"Array, Matrix":function(a,b){return o(h(a),b)},"Matrix, Array":function(a,b){return o(a,h(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,o,!1);break;default:c=m(a,b,o,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=k(b,a,o,!0);break;default:c=m(b,a,o,!0)}return c},"Array, any":function(a,b){return m(h(a),b,o,!1).valueOf()},"any, Array":function(a,b){return m(h(b),a,o,!0).valueOf()}});return o.toTex={2:"\\left(${args[0]}"+n.operators.smallerEq+"${args[1]}\\right)"},o}var d=a("../../utils/number").nearlyEqual,e=a("../../utils/bignumber/nearlyEqual");c.name="smallerEq",c.factory=f},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm07":98,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/bignumber/nearlyEqual":109,"../../utils/latex":116,"../../utils/number":117}],76:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../type/matrix/function/matrix")),i=f(a("../../type/matrix/utils/algorithm03")),j=f(a("../../type/matrix/utils/algorithm07")),k=f(a("../../type/matrix/utils/algorithm12")),l=f(a("../../type/matrix/utils/algorithm13")),m=f(a("../../type/matrix/utils/algorithm14")),n=a("../../utils/latex"),o=g("unequal",{
"any, any":function(a,b){return null===a?null!==b:null===b?null!==a:void 0===a?void 0!==b:void 0===b?void 0!==a:p(a,b)},"Matrix, Matrix":function(a,b){var c;switch(a.storage()){case"sparse":switch(b.storage()){case"sparse":c=j(a,b,p);break;default:c=i(b,a,p,!0)}break;default:switch(b.storage()){case"sparse":c=i(a,b,p,!1);break;default:c=l(a,b,p)}}return c},"Array, Array":function(a,b){return o(h(a),h(b)).valueOf()},"Array, Matrix":function(a,b){return o(h(a),b)},"Matrix, Array":function(a,b){return o(a,h(b))},"Matrix, any":function(a,b){var c;switch(a.storage()){case"sparse":c=k(a,b,p,!1);break;default:c=m(a,b,p,!1)}return c},"any, Matrix":function(a,b){var c;switch(b.storage()){case"sparse":c=k(b,a,p,!0);break;default:c=m(b,a,p,!0)}return c},"Array, any":function(a,b){return m(h(a),b,p,!1).valueOf()},"any, Array":function(a,b){return m(h(b),a,p,!0).valueOf()}}),p=g("_unequal",{"boolean, boolean":function(a,b){return a!==b},"number, number":function(a,b){return!d(a,b,c.epsilon)},"BigNumber, BigNumber":function(a,b){return!e(a,b,c.epsilon)},"Fraction, Fraction":function(a,b){return!a.equals(b)},"Complex, Complex":function(a,b){return!a.equals(b)},"Unit, Unit":function(a,b){if(!a.equalBase(b))throw new Error("Cannot compare units with different base");return o(a.value,b.value)},"string, string":function(a,b){return a!==b}});return o.toTex={2:"\\left(${args[0]}"+n.operators.unequal+"${args[1]}\\right)"},o}var d=a("../../utils/number").nearlyEqual,e=a("../../utils/bignumber/nearlyEqual");c.name="unequal",c.factory=f},{"../../type/matrix/function/matrix":89,"../../type/matrix/utils/algorithm03":94,"../../type/matrix/utils/algorithm07":98,"../../type/matrix/utils/algorithm12":102,"../../type/matrix/utils/algorithm13":103,"../../type/matrix/utils/algorithm14":104,"../../utils/bignumber/nearlyEqual":109,"../../utils/latex":116,"../../utils/number":117}],77:[function(a,b,c){"use strict";function f(a,b,c,e){var f=e("isNegative",{number:function(a){return a<0},BigNumber:function(a){return a.isNeg()&&!a.isZero()&&!a.isNaN()},Fraction:function(a){return a.s<0},Unit:function(a){return f(a.value)},"Array | Matrix":function(a){return d(a,f)}});return f}var d=a("../../utils/collection/deepMap");a("../../utils/number");c.name="isNegative",c.factory=f},{"../../utils/collection/deepMap":111,"../../utils/number":117}],78:[function(a,b,c){"use strict";function f(a,b,c,e){var f=e("isPositive",{number:function(a){return a>0},BigNumber:function(a){return!a.isNeg()&&!a.isZero()&&!a.isNaN()},Fraction:function(a){return a.s>0&&a.n>0},Unit:function(a){return f(a.value)},"Array | Matrix":function(a){return d(a,f)}});return f}var d=a("../../utils/collection/deepMap");a("../../utils/number");c.name="isPositive",c.factory=f},{"../../utils/collection/deepMap":111,"../../utils/number":117}],79:[function(a,b,c){"use strict";function e(a,b,c,e){var f=e("fraction",{number:function(b){if(!isFinite(b)||isNaN(b))throw new Error(b+" cannot be represented as a fraction");return new a.Fraction(b)},string:function(b){return new a.Fraction(b)},"number, number":function(b,c){return new a.Fraction(b,c)},BigNumber:function(b){return new a.Fraction(b.toString())},Fraction:function(a){return a},Object:function(b){return new a.Fraction(b)},"Array | Matrix":function(a){return d(a,f)}});return f}var d=a("../../../utils/collection/deepMap");c.name="fraction",c.factory=e},{"../../../utils/collection/deepMap":111}],80:[function(a,b,c){"use strict";function o(b,c,i,o){function q(a,b){if(!(this instanceof q))throw new SyntaxError("Constructor must be called with the new operator");if(b&&!m(b))throw new Error("Invalid datatype: "+b);if(a&&a.isMatrix===!0)"DenseMatrix"===a.type?(this._data=h.clone(a._data),this._size=h.clone(a._size),this._datatype=b||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=b||a._datatype);else if(a&&j(a.data)&&j(a.size))this._data=a.data,this._size=a.size,this._datatype=b||a.datatype;else if(j(a))this._data=x(a),this._size=g.size(this._data),g.validate(this._data,this._size),this._datatype=b;else{if(a)throw new TypeError("Unsupported type of data ("+d.types.type(a)+")");this._data=[],this._size=[0],this._datatype=b}}function r(a,b){if(!b||b.isIndex!==!0)throw new TypeError("Invalid index");var c=b.isScalar();if(c)return a.get(b.min());var d=b.size();if(d.length!=a._size.length)throw new e(d.length,a._size.length);for(var f=b.min(),g=b.max(),h=0,i=a._size.length;h<i;h++)n(f[h],a._size[h]),n(g[h],a._size[h]);return new q(s(a._data,b,d.length,0),a._datatype)}function s(a,b,c,d){var e=d==c-1,f=b.dimension(d);return e?f.map(function(b){return a[b]}).valueOf():f.map(function(e){var f=a[e];return s(f,b,c,d+1)}).valueOf()}function t(a,b,c,d){if(!b||b.isIndex!==!0)throw new TypeError("Invalid index");var j,f=b.size(),i=b.isScalar();if(c&&c.isMatrix===!0?(j=c.size(),c=c.valueOf()):j=g.size(c),i){if(0!==j.length)throw new TypeError("Scalar expected");a.set(b.min(),c,d)}else{if(f.length<a._size.length)throw new e(f.length,a._size.length,"<");if(j.length<f.length){for(var k=0,l=0;1===f[k]&&1===j[k];)k++;for(;1===f[k];)l++,k++;c=g.unsqueeze(c,f.length,l,j)}if(!h.deepEqual(f,j))throw new e(f,j,">");var m=b.max().map(function(a){return a+1});w(a,m,d);var n=f.length,o=0;u(a._data,b,c,n,o)}return a}function u(a,b,c,d,e){var f=e==d-1,g=b.dimension(e);f?g.forEach(function(b,d){n(b),a[b]=c[d[0]]}):g.forEach(function(f,g){n(f),u(a[f],b,c[g[0]],d,e+1)})}function w(a,b,c){for(var d=a._size.slice(0),e=!1;d.length<b.length;)d.push(0),e=!0;for(var f=0,g=b.length;f<g;f++)b[f]>d[f]&&(d[f]=b[f],e=!0);e&&v(a,d,c)}function x(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];j(d)?a[b]=x(d):d&&d.isMatrix===!0&&(a[b]=x(d.valueOf()))}return a}var p=i(a("./Matrix"));q.prototype=new p,q.prototype.type="DenseMatrix",q.prototype.isDenseMatrix=!0,q.prototype.storage=function(){return"dense"},q.prototype.datatype=function(){return this._datatype},q.prototype.create=function(a,b){return new q(a,b)},q.prototype.subset=function(a,b,c){switch(arguments.length){case 1:return r(this,a);case 2:case 3:return t(this,a,b,c);default:throw new SyntaxError("Wrong number of arguments")}},q.prototype.get=function(a){if(!j(a))throw new TypeError("Array expected");if(a.length!=this._size.length)throw new e(a.length,this._size.length);for(var b=0;b<a.length;b++)n(a[b],this._size[b]);for(var c=this._data,d=0,f=a.length;d<f;d++){var g=a[d];n(g,c.length),c=c[g]}return c},q.prototype.set=function(a,b,c){if(!j(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new e(a.length,this._size.length,"<");var d,f,g,h=a.map(function(a){return a+1});w(this,h,c);var i=this._data;for(d=0,f=a.length-1;d<f;d++)g=a[d],n(g,i.length),i=i[g];return g=a[a.length-1],n(g,i.length),i[g]=b,this},q.prototype.resize=function(a,b,c){if(!j(a))throw new TypeError("Array expected");var d=c?this.clone():this;return v(d,a,b)};var v=function(a,b,c){if(0===b.length){for(var d=a._data;j(d);)d=d[0];return d}return a._size=b.slice(0),a._data=g.resize(a._data,a._size,c),a};return q.prototype.clone=function(){var a=new q({data:h.clone(this._data),size:h.clone(this._size),datatype:this._datatype});return a},q.prototype.size=function(){return this._size.slice(0)},q.prototype.map=function(a){var b=this,c=function(d,e){return j(d)?d.map(function(a,b){return c(a,e.concat(b))}):a(d,e,b)};return new q({data:c(this._data,[]),size:h.clone(this._size),datatype:this._datatype})},q.prototype.forEach=function(a){var b=this,c=function(d,e){j(d)?d.forEach(function(a,b){c(a,e.concat(b))}):a(d,e,b)};c(this._data,[])},q.prototype.toArray=function(){return h.clone(this._data)},q.prototype.valueOf=function(){return this._data},q.prototype.format=function(a){return f.format(this._data,a)},q.prototype.toString=function(){return f.format(this._data)},q.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},q.prototype.diagonal=function(a){if(a){if(a.isBigNumber===!0&&(a=a.toNumber()),!k(a)||!l(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var b=a>0?a:0,c=a<0?-a:0,d=this._size[0],e=this._size[1],f=Math.min(d-c,e-b),g=[],h=0;h<f;h++)g[h]=this._data[h+c][h+b];return new q({data:g,size:[f],datatype:this._datatype})},q.diagonal=function(a,c,d,e,f){if(!j(a))throw new TypeError("Array expected, size parameter");if(2!==a.length)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(a){if(a&&a.isBigNumber===!0&&(a=a.toNumber()),!k(a)||!l(a)||a<1)throw new Error("Size values must be positive integers");return a}),d){if(d&&d.isBigNumber===!0&&(d=d.toNumber()),!k(d)||!l(d))throw new TypeError("The parameter k must be an integer number")}else d=0;e&&m(f)&&(e=o.convert(e,f));var s,h=d>0?d:0,i=d<0?-d:0,n=a[0],p=a[1],r=Math.min(n-i,p-h);if(j(c)){if(c.length!==r)throw new Error("Invalid value array length");s=function(a){return c[a]}}else if(c&&c.isMatrix===!0){var t=c.size();if(1!==t.length||t[0]!==r)throw new Error("Invalid matrix length");s=function(a){return c.get([a])}}else s=function(){return c};e||(e=s(0)&&s(0).isBigNumber===!0?new b.BigNumber(0):0);var u=[];if(a.length>0){u=g.resize(u,a,e);for(var v=0;v<r;v++)u[v+i][v+h]=s(v)}return new q({data:u,size:[n,p]})},q.fromJSON=function(a){return new q(a)},q.prototype.swapRows=function(a,b){if(!(k(a)&&l(a)&&k(b)&&l(b)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return n(a,this._size[0]),n(b,this._size[0]),q._swapRows(a,b,this._data),this},q._swapRows=function(a,b,c){var d=c[a];c[a]=c[b],c[b]=d},b.Matrix._storage.dense=q,b.Matrix._storage.default=q,q}var d=a("../../utils/index"),e=a("../../error/DimensionError"),f=d.string,g=d.array,h=d.object,i=d.number,j=Array.isArray,k=i.isNumber,l=i.isInteger,m=f.isString,n=g.validateIndex;c.name="DenseMatrix",c.path="type",c.factory=o,c.lazy=!1},{"../../error/DimensionError":8,"../../utils/index":115,"./Matrix":83}],81:[function(a,b,c){"use strict";function d(b,c,d,e){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var f=d(a("../../function/relational/smaller")),g=d(a("../../function/relational/larger")),h=1/Math.log((1+Math.sqrt(5))/2);i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(a,b){var c={key:a,value:b,degree:0};if(this._minimum){var d=this._minimum;c.left=d,c.right=d.right,d.right=c,c.right.left=c,f(a,d.key)&&(this._minimum=c)}else c.left=c,c.right=c,this._minimum=c;return this._size++,c},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return!!this._minimum},i.prototype.extractMinimum=function(){var a=this._minimum;if(null===a)return a;for(var b=this._minimum,c=a.degree,d=a.child;c>0;){var e=d.right;d.left.right=d.right,d.right.left=d.left,d.left=b,d.right=b.right,b.right=d,d.right.left=d,d.parent=null,d=e,c--}return a.left.right=a.right,a.right.left=a.left,a==a.right?b=null:(b=a.right,b=n(b,this._size)),this._size--,this._minimum=b,a},i.prototype.remove=function(a){this._minimum=j(this._minimum,a,-1),this.extractMinimum()};var j=function(a,b,c){b.key=c;var d=b.parent;return d&&f(b.key,d.key)&&(k(a,b,d),l(a,d)),f(b.key,a.key)&&(a=b),a},k=function(a,b,c){b.left.right=b.right,b.right.left=b.left,c.degree--,c.child==b&&(c.child=b.right),0===c.degree&&(c.child=null),b.left=a,b.right=a.right,a.right=b,b.right.left=b,b.parent=null,b.mark=!1},l=function(a,b){var c=b.parent;c&&(b.mark?(k(a,b,c),l(c)):b.mark=!0)},m=function(a,b){a.left.right=a.right,a.right.left=a.left,a.parent=b,b.child?(a.left=b.child,a.right=b.child.right,b.child.right=a,a.right.left=a):(b.child=a,a.right=a,a.left=a),b.degree++,a.mark=!1},n=function(a,b){var c=Math.floor(Math.log(b)*h)+1,d=new Array(c),e=0,i=a;if(i)for(e++,i=i.right;i!==a;)e++,i=i.right;for(var j;e>0;){for(var k=i.degree,l=i.right;;){if(j=d[k],!j)break;if(g(i.key,j.key)){var n=j;j=i,i=n}m(j,i),d[k]=null,k++}d[k]=i,i=l,e--}a=null;for(var o=0;o<c;o++)j=d[o],j&&(a?(j.left.right=j.right,j.right.left=j.left,j.left=a,j.right=a.right,a.right=j,j.right.left=j,f(j.key,a.key)&&(a=j)):a=j);return a};return i}c.name="FibonacciHeap",c.path="type",c.factory=d},{"../../function/relational/larger":72,"../../function/relational/smaller":74}],82:[function(a,b,c){"use strict";function i(b,c,e){function k(a,b){if(!(this instanceof k))throw new SyntaxError("Constructor must be called with the new operator");if(b&&!h(b))throw new Error("Invalid datatype: "+b);if(a&&a.isMatrix===!0||g(a)){var c=new i(a,b);this._data=c._data,this._size=c._size,this._datatype=c._datatype,this._min=null,this._max=null}else if(a&&g(a.data)&&g(a.size))this._data=a.data,this._size=a.size,this._datatype=a.datatype,this._min="undefined"!=typeof a.min?a.min:null,this._max="undefined"!=typeof a.max?a.max:null;else{if(a)throw new TypeError("Unsupported type of data ("+d.types.type(a)+")");this._data=[],this._size=[0],this._datatype=b,this._min=null,this._max=null}}var i=e(a("./DenseMatrix")),j=e(a("../../function/relational/smaller"));return k.prototype=new i,k.prototype.type="ImmutableDenseMatrix",k.prototype.isImmutableDenseMatrix=!0,k.prototype.subset=function(a){switch(arguments.length){case 1:var b=i.prototype.subset.call(this,a);return b.isMatrix?new k({data:b._data,size:b._size,datatype:b._datatype}):b;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},k.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},k.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},k.prototype.clone=function(){var a=new k({data:f.clone(this._data),size:f.clone(this._size),datatype:this._datatype});return a},k.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},k.fromJSON=function(a){return new k(a)},k.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},k.prototype.min=function(){if(null===this._min){var a=null;this.forEach(function(b){(null===a||j(b,a))&&(a=b)}),this._min=null!==a?a:void 0}return this._min},k.prototype.max=function(){if(null===this._max){var a=null;this.forEach(function(b){(null===a||j(a,b))&&(a=b)}),this._max=null!==a?a:void 0}return this._max},k}var d=a("../../utils/index"),e=d.string,f=d.object,g=Array.isArray,h=e.isString;c.name="ImmutableDenseMatrix",c.path="type",c.factory=i},{"../../function/relational/smaller":74,"../../utils/index":115,"./DenseMatrix":80}],83:[function(a,b,c){"use strict";function g(a,b,c,d){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.storage=function(a){if(!f(a))throw new TypeError("format must be a string value");var b=e._storage[a];if(!b)throw new SyntaxError("Unsupported matrix storage format: "+a);return b},e._storage={},e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(a,b){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(a,b,c){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(a){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(a,b,c){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(a,b){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(a,b){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(a){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(a){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}var d=a("../../utils/index"),e=d.string,f=e.isString;c.name="Matrix",c.path="type",c.factory=g},{"../../utils/index":115}],84:[function(a,b,c){"use strict";function f(a){function b(a){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var d=0,e=arguments.length;d<e;d++){var f=arguments[d];if(f&&f.isRange===!0)this._dimensions.push(f),this._isScalar=!1;else if(f&&(Array.isArray(f)||f.isMatrix===!0)){var g=c(f.valueOf());this._dimensions.push(g);var h=g.size();1===h.length&&1===h[0]||(this._isScalar=!1)}else if("number"==typeof f)this._dimensions.push(c([f]));else{if("string"!=typeof f)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(f)}}}function c(b){for(var c=0,d=b.length;c<d;c++)if("number"!=typeof b[c]||!e(b[c]))throw new TypeError("Index parameters must be positive integer numbers");return new a.ImmutableDenseMatrix(b)}return b.prototype.type="Index",b.prototype.isIndex=!0,b.prototype.clone=function(){var a=new b;return a._dimensions=d(this._dimensions),a._isScalar=this._isScalar,a},b.create=function(a){var c=new b;return b.apply(c,a),c},b.prototype.size=function(){for(var a=[],b=0,c=this._dimensions.length;b<c;b++){var d=this._dimensions[b];a[b]="string"==typeof d?1:d.size()[0]}return a},b.prototype.max=function(){for(var a=[],b=0,c=this._dimensions.length;b<c;b++){var d=this._dimensions[b];a[b]="string"==typeof d?d:d.max()}return a},b.prototype.min=function(){for(var a=[],b=0,c=this._dimensions.length;b<c;b++){var d=this._dimensions[b];a[b]="string"==typeof d?d:d.min()}return a},b.prototype.forEach=function(a){for(var b=0,c=this._dimensions.length;b<c;b++)a(this._dimensions[b],b,this)},b.prototype.dimension=function(a){return this._dimensions[a]||null},b.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},b.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},b.prototype.isScalar=function(){return this._isScalar},b.prototype.toArray=function(){for(var a=[],b=0,c=this._dimensions.length;b<c;b++){var d=this._dimensions[b];a.push("string"==typeof d?d:d.toArray())}return a},b.prototype.valueOf=b.prototype.toArray,b.prototype.toString=function(){for(var a=[],b=0,c=this._dimensions.length;b<c;b++){var d=this._dimensions[b];"string"==typeof d?a.push(JSON.stringify(d)):a.push(d.toString())}return"["+a.join(", ")+"]"},b.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},b.fromJSON=function(a){return b.create(a.dimensions)},b}var d=a("../../utils/object").clone,e=a("../../utils/number").isInteger;c.name="Index",c.path="type",c.factory=f},{"../../utils/number":117,"../../utils/object":118}],85:[function(a,b,c){"use strict";function e(a,b,c,e){function f(a,b,c){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(null!=a)if(a.isBigNumber===!0)a=a.toNumber();else if("number"!=typeof a)throw new TypeError("Parameter start must be a number");if(null!=b)if(b.isBigNumber===!0)b=b.toNumber();else if("number"!=typeof b)throw new TypeError("Parameter end must be a number");if(null!=c)if(c.isBigNumber===!0)c=c.toNumber();else if("number"!=typeof c)throw new TypeError("Parameter step must be a number");this.start=null!=a?parseFloat(a):0,this.end=null!=b?parseFloat(b):0,this.step=null!=c?parseFloat(c):1}return f.prototype.type="Range",f.prototype.isRange=!0,f.parse=function(a){if("string"!=typeof a)return null;var b=a.split(":"),c=b.map(function(a){return parseFloat(a)}),d=c.some(function(a){return isNaN(a)});if(d)return null;switch(c.length){case 2:return new f(c[0],c[1]);case 3:return new f(c[0],c[2],c[1]);default:return null}},f.prototype.clone=function(){return new f(this.start,this.end,this.step)},f.prototype.size=function(){var a=0,b=this.start,c=this.step,e=this.end,f=e-b;return d.sign(c)==d.sign(f)?a=Math.ceil(f/c):0==f&&(a=0),isNaN(a)&&(a=0),[a]},f.prototype.min=function(){var a=this.size()[0];return a>0?this.step>0?this.start:this.start+(a-1)*this.step:void 0},f.prototype.max=function(){var a=this.size()[0];return a>0?this.step>0?this.start+(a-1)*this.step:this.start:void 0},f.prototype.forEach=function(a){var b=this.start,c=this.step,d=this.end,e=0;if(c>0)for(;b<d;)a(b,[e],this),b+=c,e++;else if(c<0)for(;b>d;)a(b,[e],this),b+=c,e++},f.prototype.map=function(a){var b=[];return this.forEach(function(c,d,e){b[d[0]]=a(c,d,e)}),b},f.prototype.toArray=function(){var a=[];return this.forEach(function(b,c){a[c[0]]=b}),a},f.prototype.valueOf=function(){return this.toArray()},f.prototype.format=function(a){var b=d.format(this.start,a);return 1!=this.step&&(b+=":"+d.format(this.step,a)),b+=":"+d.format(this.end,a)},f.prototype.toString=function(){return this.format()},f.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},f.fromJSON=function(a){return new f(a.start,a.end,a.step)},f}var d=a("../../utils/number");c.name="Range",c.path="type",c.factory=e},{"../../utils/number":117}],86:[function(a,b,c){"use strict";function d(b,c,d){function g(){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new b.FibonacciHeap}var e=d(a("../../function/arithmetic/add")),f=d(a("../../function/relational/equalScalar"));return g.prototype.type="Spa",g.prototype.isSpa=!0,g.prototype.set=function(a,b){if(this._values[a])this._values[a].value=b;else{var c=this._heap.insert(a,b);this._values[a]=c}},g.prototype.get=function(a){var b=this._values[a];return b?b.value:0},g.prototype.accumulate=function(a,b){var c=this._values[a];c?c.value=e(c.value,b):(c=this._heap.insert(a,b),this._values[a]=c)},g.prototype.forEach=function(a,b,c){var d=this._heap,e=this._values,g=[],h=d.extractMinimum();for(h&&g.push(h);h&&h.key<=b;)h.key>=a&&(f(h.value,0)||c(h.key,h.value,this)),h=d.extractMinimum(),h&&g.push(h);for(var i=0;i<g.length;i++){var j=g[i];h=d.insert(j.key,j.value),e[h.key]=h}},g.prototype.swap=function(a,b){var c=this._values[a],d=this._values[b];if(!c&&d)c=this._heap.insert(a,d.value),this._heap.remove(d),this._values[a]=c,this._values[b]=void 0;else if(c&&!d)d=this._heap.insert(b,c.value),this._heap.remove(c),this._values[b]=d,this._values[a]=void 0;else if(c&&d){var e=c.value;c.value=d.value,d.value=e}},g}c.name="Spa",c.path="type",c.factory=d},{"../../function/arithmetic/add":11,"../../function/relational/equalScalar":70}],87:[function(a,b,c){"use strict";function o(b,c,o,p){function s(a,b){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(b&&!m(b))throw new Error("Invalid datatype: "+b);if(a&&a.isMatrix===!0)t(this,a,b);else if(a&&j(a.index)&&j(a.ptr)&&j(a.size))this._values=a.values,this._index=a.index,this._ptr=a.ptr,this._size=a.size,this._datatype=b||a.datatype;else if(j(a))u(this,a,b);else{if(a)throw new TypeError("Unsupported type of data ("+d.types.type(a)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=b}}var q=o(a("./Matrix")),r=o(a("../../function/relational/equalScalar")),t=function(a,b,c){"SparseMatrix"===b.type?(a._values=b._values?g.clone(b._values):void 0,a._index=g.clone(b._index),a._ptr=g.clone(b._ptr),a._size=g.clone(b._size),a._datatype=c||b._datatype):u(a,b.valueOf(),c||b._datatype)},u=function(a,b,c){a._values=[],a._index=[],a._ptr=[],a._datatype=c;var d=b.length,e=0,f=r,g=0;if(m(c)&&(f=p.find(r,[c,c])||r,g=p.convert(0,c)),d>0){var h=0;do{a._ptr.push(a._index.length);for(var i=0;i<d;i++){var k=b[i];if(j(k)){if(0===h&&e<k.length&&(e=k.length),h<k.length){var l=k[h];f(l,g)||(a._values.push(l),a._index.push(i))}}else 0===h&&e<1&&(e=1),f(k,g)||(a._values.push(k),a._index.push(i))}h++}while(h<e)}a._ptr.push(a._index.length),a._size=[d,e]};s.prototype=new q,s.prototype.type="SparseMatrix",s.prototype.isSparseMatrix=!0,s.prototype.storage=function(){return"sparse"},s.prototype.datatype=function(){return this._datatype},s.prototype.create=function(a,b){return new s(a,b)},s.prototype.density=function(){var a=this._size[0],b=this._size[1];return 0!==a&&0!==b?this._index.length/(a*b):0},s.prototype.subset=function(a,b,c){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return v(this,a);case 2:case 3:return w(this,a,b,c);default:throw new SyntaxError("Wrong number of arguments")}};var v=function(a,b){if(!b||b.isIndex!==!0)throw new TypeError("Invalid index");var c=b.isScalar();if(c)return a.get(b.min());var d=b.size();if(d.length!=a._size.length)throw new e(d.length,a._size.length);var f,g,h,i,j=b.min(),k=b.max();for(f=0,g=a._size.length;f<g;f++)n(j[f],a._size[f]),n(k[f],a._size[f]);var l=a._values,m=a._index,o=a._ptr,p=b.dimension(0),q=b.dimension(1),r=[],t=[];p.forEach(function(a,b){t[a]=b[0],r[a]=!0});var u=l?[]:void 0,v=[],w=[];return q.forEach(function(a){for(w.push(v.length),h=o[a],i=o[a+1];h<i;h++)f=m[h],r[f]===!0&&(v.push(t[f]),u&&u.push(l[h]))}),w.push(v.length),new s({values:u,index:v,ptr:w,size:d,datatype:a._datatype})},w=function(a,b,c,d){if(!b||b.isIndex!==!0)throw new TypeError("Invalid index");var j,h=b.size(),i=b.isScalar();if(c&&c.isMatrix===!0?(j=c.size(),c=c.toArray()):j=f.size(c),i){if(0!==j.length)throw new TypeError("Scalar expected");a.set(b.min(),c,d)}else{if(1!==h.length&&2!==h.length)throw new e(h.length,a._size.length,"<");if(j.length<h.length){for(var k=0,l=0;1===h[k]&&1===j[k];)k++;for(;1===h[k];)l++,k++;c=f.unsqueeze(c,h.length,l,j)}if(!g.deepEqual(h,j))throw new e(h,j,">");for(var m=b.min()[0],n=b.min()[1],o=j[0],p=j[1],q=0;q<o;q++)for(var r=0;r<p;r++){var s=c[q][r];a.set([q+m,r+n],s,d)}}return a};s.prototype.get=function(a){if(!j(a))throw new TypeError("Array expected");if(a.length!=this._size.length)throw new e(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var b=a[0],c=a[1];n(b,this._size[0]),n(c,this._size[1]);var d=x(b,this._ptr[c],this._ptr[c+1],this._index);return d<this._ptr[c+1]&&this._index[d]===b?this._values[d]:0},s.prototype.set=function(a,b,c){if(!j(a))throw new TypeError("Array expected");if(a.length!=this._size.length)throw new e(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var d=a[0],f=a[1],g=this._size[0],h=this._size[1],i=r,k=0;m(this._datatype)&&(i=p.find(r,[this._datatype,this._datatype])||r,k=p.convert(0,this._datatype)),(d>g-1||f>h-1)&&(A(this,Math.max(d+1,g),Math.max(f+1,h),c),g=this._size[0],h=this._size[1]),n(d,g),n(f,h);var l=x(d,this._ptr[f],this._ptr[f+1],this._index);return l<this._ptr[f+1]&&this._index[l]===d?i(b,k)?y(l,f,this._values,this._index,this._ptr):this._values[l]=b:z(l,d,f,b,this._values,this._index,this._ptr),this};var x=function(a,b,c,d){if(c-b===0)return c;for(var e=b;e<c;e++)if(d[e]===a)return e;return b},y=function(a,b,c,d,e){c.splice(a,1),d.splice(a,1);for(var f=b+1;f<e.length;f++)e[f]--},z=function(a,b,c,d,e,f,g){e.splice(a,0,d),f.splice(a,0,b);for(var h=c+1;h<g.length;h++)g[h]++};s.prototype.resize=function(a,b,c){if(!j(a))throw new TypeError("Array expected");if(2!==a.length)throw new Error("Only two dimensions matrix are supported");a.forEach(function(b){if(!i.isNumber(b)||!i.isInteger(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+h.format(a)+")")});var d=c?this.clone():this;return A(d,a[0],a[1],b)};var A=function(a,b,c,d){var e=d||0,f=r,g=0;m(a._datatype)&&(f=p.find(r,[a._datatype,a._datatype])||r,g=p.convert(0,a._datatype),e=p.convert(e,a._datatype));var k,l,n,h=!f(e,g),i=a._size[0],j=a._size[1];if(c>j){for(l=j;l<c;l++)if(a._ptr[l]=a._values.length,h)for(k=0;k<i;k++)a._values.push(e),a._index.push(k);a._ptr[c]=a._values.length}else c<j&&(a._ptr.splice(c+1,j-c),a._values.splice(a._ptr[c],a._values.length),a._index.splice(a._ptr[c],a._index.length));if(j=c,b>i){if(h){var o=0;for(l=0;l<j;l++){a._ptr[l]=a._ptr[l]+o,n=a._ptr[l+1]+o;var q=0;for(k=i;k<b;k++,q++)a._values.splice(n+q,0,e),a._index.splice(n+q,0,k),o++}a._ptr[j]=a._values.length}}else if(b<i){var s=0;for(l=0;l<j;l++){a._ptr[l]=a._ptr[l]-s;var t=a._ptr[l],u=a._ptr[l+1]-s;for(n=t;n<u;n++)k=a._index[n],k>b-1&&(a._values.splice(n,1),a._index.splice(n,1),s++)}a._ptr[l]=a._values.length}return a._size[0]=b,a._size[1]=c,a};s.prototype.clone=function(){var a=new s({values:this._values?g.clone(this._values):void 0,index:g.clone(this._index),ptr:g.clone(this._ptr),size:g.clone(this._size),datatype:this._datatype});return a},s.prototype.size=function(){return this._size.slice(0)},s.prototype.map=function(a,b){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var c=this,d=this._size[0],e=this._size[1],f=function(b,d,e){return a(b,[d,e],c)};return B(this,0,d-1,0,e-1,f,b)};var B=function(a,b,c,d,e,f,g){var h=[],i=[],j=[],k=r,l=0;m(a._datatype)&&(k=p.find(r,[a._datatype,a._datatype])||r,l=p.convert(0,a._datatype));for(var n=function(a,b,c){a=f(a,b,c),k(a,l)||(h.push(a),i.push(b))},o=d;o<=e;o++){j.push(h.length);for(var q=a._ptr[o],t=a._ptr[o+1],u=b,v=q;v<t;v++){var w=a._index[v];if(w>=b&&w<=c){if(!g)for(var x=u;x<w;x++)n(0,x-b,o-d);n(a._values[v],w-b,o-d)}u=w+1}if(!g)for(var y=u;y<=c;y++)n(0,y-b,o-d)}return j.push(h.length),new s({values:h,index:i,ptr:j,size:[c-b+1,e-d+1]})};s.prototype.forEach=function(a,b){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var c=this,d=this._size[0],e=this._size[1],f=0;f<e;f++){for(var g=this._ptr[f],h=this._ptr[f+1],i=0,j=g;j<h;j++){var k=this._index[j];if(!b)for(var l=i;l<k;l++)a(0,[l,f],c);a(this._values[j],[k,f],c),i=k+1}if(!b)for(var m=i;m<d;m++)a(0,[m,f],c)}},s.prototype.toArray=function(){return C(this._values,this._index,this._ptr,this._size,!0)},s.prototype.valueOf=function(){return C(this._values,this._index,this._ptr,this._size,!1)};var C=function(a,b,c,d,e){var j,k,f=d[0],h=d[1],i=[];for(j=0;j<f;j++)for(i[j]=[],k=0;k<h;k++)i[j][k]=0;for(k=0;k<h;k++)for(var l=c[k],m=c[k+1],n=l;n<m;n++)j=b[n],i[j][k]=a?e?g.clone(a[n]):a[n]:1;return i};return s.prototype.format=function(a){for(var b=this._size[0],c=this._size[1],d=this.density(),e="Sparse Matrix ["+h.format(b,a)+" x "+h.format(c,a)+"] density: "+h.format(d,a)+"\n",f=0;f<c;f++)for(var g=this._ptr[f],i=this._ptr[f+1],j=g;j<i;j++){var k=this._index[j];e+="\n    ("+h.format(k,a)+", "+h.format(f,a)+") ==> "+(this._values?h.format(this._values[j],a):"X")}return e},s.prototype.toString=function(){return h.format(this.toArray())},s.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},s.prototype.diagonal=function(a){if(a){if(a.isBigNumber===!0&&(a=a.toNumber()),!k(a)||!l(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var b=a>0?a:0,c=a<0?-a:0,d=this._size[0],e=this._size[1],f=Math.min(d-c,e-b),g=[],h=[],i=[];i[0]=0;for(var j=b;j<e&&g.length<f;j++)for(var m=this._ptr[j],n=this._ptr[j+1],o=m;o<n;o++){var p=this._index[o];if(p===j-b+c){g.push(this._values[o]),h[g.length-1]=p-c;break}}return i.push(g.length),new s({values:g,index:h,ptr:i,size:[f,1]})},s.fromJSON=function(a){return new s(a)},s.diagonal=function(a,b,c,d,e){if(!j(a))throw new TypeError("Array expected, size parameter");if(2!==a.length)throw new Error("Only two dimensions matrix are supported");
if(a=a.map(function(a){if(a&&a.isBigNumber===!0&&(a=a.toNumber()),!k(a)||!l(a)||a<1)throw new Error("Size values must be positive integers");return a}),c){if(c.isBigNumber===!0&&(c=c.toNumber()),!k(c)||!l(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var f=r,g=0;m(e)&&(f=p.find(r,[e,e])||r,g=p.convert(0,e));var t,h=c>0?c:0,i=c<0?-c:0,n=a[0],o=a[1],q=Math.min(n-i,o-h);if(j(b)){if(b.length!==q)throw new Error("Invalid value array length");t=function(a){return b[a]}}else if(b&&b.isMatrix===!0){var u=b.size();if(1!==u.length||u[0]!==q)throw new Error("Invalid matrix length");t=function(a){return b.get([a])}}else t=function(){return b};for(var v=[],w=[],x=[],y=0;y<o;y++){x.push(v.length);var z=y-h;if(z>=0&&z<q){var A=t(z);f(A,g)||(w.push(z+i),v.push(A))}}return x.push(v.length),new s({values:v,index:w,ptr:x,size:[n,o]})},s.prototype.swapRows=function(a,b){if(!(k(a)&&l(a)&&k(b)&&l(b)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return n(a,this._size[0]),n(b,this._size[0]),s._swapRows(a,b,this._size[1],this._values,this._index,this._ptr),this},s._forEachRow=function(a,b,c,d,e){for(var f=d[a],g=d[a+1],h=f;h<g;h++)e(c[h],b[h])},s._swapRows=function(a,b,c,d,e,f){for(var g=0;g<c;g++){var h=f[g],i=f[g+1],j=x(a,h,i,e),k=x(b,h,i,e);if(j<i&&k<i&&e[j]===a&&e[k]===b){if(d){var l=d[j];d[j]=d[k],d[k]=l}}else if(j<i&&e[j]===a&&(k>=i||e[k]!==b)){var m=d?d[j]:void 0;e.splice(k,0,b),d&&d.splice(k,0,m),e.splice(k<=j?j+1:j,1),d&&d.splice(k<=j?j+1:j,1)}else if(k<i&&e[k]===b&&(j>=i||e[j]!==a)){var n=d?d[k]:void 0;e.splice(j,0,a),d&&d.splice(j,0,n),e.splice(j<=k?k+1:k,1),d&&d.splice(j<=k?k+1:k,1)}}},b.Matrix._storage.sparse=s,s}var d=a("../../utils/index"),e=a("../../error/DimensionError"),f=d.array,g=d.object,h=d.string,i=d.number,j=Array.isArray,k=i.isNumber,l=i.isInteger,m=h.isString,n=f.validateIndex;c.name="SparseMatrix",c.path="type",c.factory=o,c.lazy=!1},{"../../error/DimensionError":8,"../../function/relational/equalScalar":70,"../../utils/index":115,"./Matrix":83}],88:[function(a,b,c){"use strict";function d(a,b,c,d){return d("index",{"...number | string | BigNumber | Range | Array | Matrix":function(b){var c=b.map(function(a){return a&&a.isBigNumber===!0?a.toNumber():a&&(Array.isArray(a)||a.isMatrix===!0)?a.map(function(a){return a&&a.isBigNumber===!0?a.toNumber():a}):a}),d=new a.Index;return a.Index.apply(d,c),d}})}c.name="index",c.factory=d},{}],89:[function(a,b,c){"use strict";function d(a,b,c,d){function f(b,c,d){var e=a.Matrix.storage(c||"default");return new e(b,d)}var e=d("matrix",{"":function(){return f([])},string:function(a){return f([],a)},"string, string":function(a,b){return f([],a,b)},Array:function(a){return f(a)},Matrix:function(a){return f(a,a.storage())},"Array | Matrix, string":f,"Array | Matrix, string, string":f});return e.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},e}c.name="matrix",c.factory=d},{}],90:[function(a,b,c){"use strict";function d(a,b,c,d){var e=a.SparseMatrix,f=d("sparse",{"":function(){return new e([])},string:function(a){return new e([],a)},"Array | Matrix":function(a){return new e(a)},"Array | Matrix, string":function(a,b){return new e(a,b)}});return f.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},f}c.name="sparse",c.factory=d},{}],91:[function(a,b,c){b.exports=[a("./Matrix"),a("./DenseMatrix"),a("./SparseMatrix"),a("./Spa"),a("./FibonacciHeap"),a("./ImmutableDenseMatrix"),a("./MatrixIndex"),a("./Range"),a("./function/index"),a("./function/matrix"),a("./function/sparse")]},{"./DenseMatrix":80,"./FibonacciHeap":81,"./ImmutableDenseMatrix":82,"./Matrix":83,"./MatrixIndex":84,"./Range":85,"./Spa":86,"./SparseMatrix":87,"./function/index":88,"./function/matrix":89,"./function/sparse":90}],92:[function(a,b,c){"use strict";function e(a,b,c,e){var f=a.DenseMatrix,g=function(a,b,c,g){var h=a._data,i=a._size,j=a._datatype,k=b._values,l=b._index,m=b._ptr,n=b._size,o=b._datatype;if(i.length!==n.length)throw new d(i.length,n.length);if(i[0]!==n[0]||i[1]!==n[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+n+")");if(!k)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var t,u,p=i[0],q=i[1],r="string"==typeof j&&j===o?j:void 0,s=r?e.find(c,[r,r]):c,v=[];for(t=0;t<p;t++)v[t]=[];var w=[],x=[];for(u=0;u<q;u++){for(var y=u+1,z=m[u],A=m[u+1],B=z;B<A;B++)t=l[B],w[t]=g?s(k[B],h[t][u]):s(h[t][u],k[B]),x[t]=y;for(t=0;t<p;t++)x[t]===y?v[t][u]=w[t]:v[t][u]=h[t][u]}return new f({data:v,size:[p,q],datatype:r})};return g}var d=a("../../../error/DimensionError");c.name="algorithm01",c.factory=e},{"../../../error/DimensionError":8}],93:[function(a,b,c){"use strict";function e(b,c,e,f){var g=e(a("../../../function/relational/equalScalar")),h=b.SparseMatrix,i=function(a,b,c,e){var i=a._data,j=a._size,k=a._datatype,l=b._values,m=b._index,n=b._ptr,o=b._size,p=b._datatype;if(j.length!==o.length)throw new d(j.length,o.length);if(j[0]!==o[0]||j[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+j+") must match Matrix B ("+o+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s,q=j[0],r=j[1],t=g,u=0,v=c;"string"==typeof k&&k===p&&(s=k,t=f.find(g,[s,s]),u=f.convert(0,s),v=f.find(c,[s,s]));for(var w=[],x=[],y=[],z=0;z<r;z++){y[z]=x.length;for(var A=n[z],B=n[z+1],C=A;C<B;C++){var D=m[C],E=e?v(l[C],i[D][z]):v(i[D][z],l[C]);t(E,u)||(x.push(D),w.push(E))}}return y[r]=x.length,new h({values:w,index:x,ptr:y,size:[q,r],datatype:s})};return i}var d=a("../../../error/DimensionError");c.name="algorithm02",c.factory=e},{"../../../error/DimensionError":8,"../../../function/relational/equalScalar":70}],94:[function(a,b,c){"use strict";function e(a,b,c,e){var f=a.DenseMatrix,g=function(a,b,c,g){var h=a._data,i=a._size,j=a._datatype,k=b._values,l=b._index,m=b._ptr,n=b._size,o=b._datatype;if(i.length!==n.length)throw new d(i.length,n.length);if(i[0]!==n[0]||i[1]!==n[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+n+")");if(!k)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var r,p=i[0],q=i[1],s=0,t=c;"string"==typeof j&&j===o&&(r=j,s=e.convert(0,r),t=e.find(c,[r,r]));for(var u=[],v=0;v<p;v++)u[v]=[];for(var w=[],x=[],y=0;y<q;y++){for(var z=y+1,A=m[y],B=m[y+1],C=A;C<B;C++){var D=l[C];w[D]=g?t(k[C],h[D][y]):t(h[D][y],k[C]),x[D]=z}for(var E=0;E<p;E++)x[E]===z?u[E][y]=w[E]:u[E][y]=g?t(s,h[E][y]):t(h[E][y],s)}return new f({data:u,size:[p,q],datatype:r})};return g}var d=a("../../../error/DimensionError");c.name="algorithm03",c.factory=e},{"../../../error/DimensionError":8}],95:[function(a,b,c){"use strict";function e(b,c,e,f){var g=e(a("../../../function/relational/equalScalar")),h=b.SparseMatrix,i=function(a,b,c){var e=a._values,i=a._index,j=a._ptr,k=a._size,l=a._datatype,m=b._values,n=b._index,o=b._ptr,p=b._size,q=b._datatype;if(k.length!==p.length)throw new d(k.length,p.length);if(k[0]!==p[0]||k[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+k+") must match Matrix B ("+p+")");var t,r=k[0],s=k[1],u=g,v=0,w=c;"string"==typeof l&&l===q&&(t=l,u=f.find(g,[t,t]),v=f.convert(0,t),w=f.find(c,[t,t]));var F,G,H,I,J,x=e&&m?[]:void 0,y=[],z=[],A=new h({values:x,index:y,ptr:z,size:[r,s],datatype:t}),B=e&&m?[]:void 0,C=e&&m?[]:void 0,D=[],E=[];for(G=0;G<s;G++){z[G]=y.length;var K=G+1;for(I=j[G],J=j[G+1],H=I;H<J;H++)F=i[H],y.push(F),D[F]=K,B&&(B[F]=e[H]);for(I=o[G],J=o[G+1],H=I;H<J;H++)if(F=n[H],D[F]===K){if(B){var L=w(B[F],m[H]);u(L,v)?D[F]=null:B[F]=L}}else y.push(F),E[F]=K,C&&(C[F]=m[H]);if(B&&C)for(H=z[G];H<y.length;)F=y[H],D[F]===K?(x[H]=B[F],H++):E[F]===K?(x[H]=C[F],H++):y.splice(H,1)}return z[s]=y.length,A};return i}var d=a("../../../error/DimensionError");c.name="algorithm04",c.factory=e},{"../../../error/DimensionError":8,"../../../function/relational/equalScalar":70}],96:[function(a,b,c){"use strict";function e(b,c,e,f){var g=e(a("../../../function/relational/equalScalar")),h=b.SparseMatrix,i=function(a,b,c){var e=a._values,i=a._index,j=a._ptr,k=a._size,l=a._datatype,m=b._values,n=b._index,o=b._ptr,p=b._size,q=b._datatype;if(k.length!==p.length)throw new d(k.length,p.length);if(k[0]!==p[0]||k[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+k+") must match Matrix B ("+p+")");var t,r=k[0],s=k[1],u=g,v=0,w=c;"string"==typeof l&&l===q&&(t=l,u=f.find(g,[t,t]),v=f.convert(0,t),w=f.find(c,[t,t]));var F,G,H,I,x=e&&m?[]:void 0,y=[],z=[],A=new h({values:x,index:y,ptr:z,size:[r,s],datatype:t}),B=x?[]:void 0,C=x?[]:void 0,D=[],E=[];for(G=0;G<s;G++){z[G]=y.length;var J=G+1;for(H=j[G],I=j[G+1];H<I;H++)F=i[H],y.push(F),D[F]=J,B&&(B[F]=e[H]);for(H=o[G],I=o[G+1];H<I;H++)F=n[H],D[F]!==J&&y.push(F),E[F]=J,C&&(C[F]=m[H]);if(x)for(H=z[G];H<y.length;){F=y[H];var K=D[F],L=E[F];if(K===J||L===J){var M=K===J?B[F]:v,N=L===J?C[F]:v,O=w(M,N);u(O,v)?y.splice(H,1):(x.push(O),H++)}}}return z[s]=y.length,A};return i}var d=a("../../../error/DimensionError");c.name="algorithm05",c.factory=e},{"../../../error/DimensionError":8,"../../../function/relational/equalScalar":70}],97:[function(a,b,c){"use strict";function f(b,c,f,g){var h=f(a("../../../function/relational/equalScalar")),i=b.SparseMatrix,j=function(a,b,c){var f=a._values,j=a._size,k=a._datatype,l=b._values,m=b._size,n=b._datatype;if(j.length!==m.length)throw new e(j.length,m.length);if(j[0]!==m[0]||j[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+j+") must match Matrix B ("+m+")");var q,o=j[0],p=j[1],r=h,s=0,t=c;"string"==typeof k&&k===n&&(q=k,r=g.find(h,[q,q]),s=g.convert(0,q),t=g.find(c,[q,q]));for(var u=f&&l?[]:void 0,v=[],w=[],x=new i({values:u,index:v,ptr:w,size:[o,p],datatype:q}),y=u?[]:void 0,z=[],A=[],B=0;B<p;B++){w[B]=v.length;var C=B+1;if(d(a,B,z,y,A,C,x,t),d(b,B,z,y,A,C,x,t),y)for(var D=w[B];D<v.length;){var E=v[D];if(A[E]===C){var F=y[E];r(F,s)?v.splice(D,1):(u.push(F),D++)}else v.splice(D,1)}else for(var G=w[B];G<v.length;){var H=v[G];A[H]!==C?v.splice(G,1):G++}}return w[p]=v.length,x};return j}var d=a("./../../../utils/collection/scatter"),e=a("../../../error/DimensionError");c.name="algorithm06",c.factory=f},{"../../../error/DimensionError":8,"../../../function/relational/equalScalar":70,"./../../../utils/collection/scatter":112}],98:[function(a,b,c){"use strict";function e(a,b,c,e){var f=a.DenseMatrix,g=function(a,b,c){var g=a._size,i=a._datatype,j=b._size,k=b._datatype;if(g.length!==j.length)throw new d(g.length,j.length);if(g[0]!==j[0]||g[1]!==j[1])throw new RangeError("Dimension mismatch. Matrix A ("+g+") must match Matrix B ("+j+")");var n,l=g[0],m=g[1],o=0,p=c;"string"==typeof i&&i===k&&(n=i,o=e.convert(0,n),p=e.find(c,[n,n]));var q,r,s=[];for(q=0;q<l;q++)s[q]=[];var t=new f({data:s,size:[l,m],datatype:n}),u=[],v=[],w=[],x=[];for(r=0;r<m;r++){var y=r+1;for(h(a,r,w,u,y),h(b,r,x,v,y),q=0;q<l;q++){var z=w[q]===y?u[q]:o,A=x[q]===y?v[q]:o;s[q][r]=p(z,A)}}return t},h=function(a,b,c,d,e){for(var f=a._values,g=a._index,h=a._ptr,i=h[b],j=h[b+1];i<j;i++){var k=g[i];c[k]=e,d[k]=f[i]}};return g}var d=a("../../../error/DimensionError");c.name="algorithm07",c.factory=e},{"../../../error/DimensionError":8}],99:[function(a,b,c){"use strict";function e(b,c,e,f){var g=e(a("../../../function/relational/equalScalar")),h=b.SparseMatrix,i=function(a,b,c){var e=a._values,i=a._index,j=a._ptr,k=a._size,l=a._datatype,m=b._values,n=b._index,o=b._ptr,p=b._size,q=b._datatype;if(k.length!==p.length)throw new d(k.length,p.length);if(k[0]!==p[0]||k[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+k+") must match Matrix B ("+p+")");var t,r=k[0],s=k[1],u=g,v=0,w=c;"string"==typeof l&&l===q&&(t=l,u=f.find(g,[t,t]),v=f.convert(0,t),w=f.find(c,[t,t]));var D,E,F,G,H,x=e&&m?[]:void 0,y=[],z=[],A=new h({values:x,index:y,ptr:z,size:[r,s],datatype:t}),B=x?[]:void 0,C=[];for(E=0;E<s;E++){z[E]=y.length;var I=E+1;if(B)for(G=o[E],H=o[E+1],F=G;F<H;F++)D=n[F],C[D]=I,B[D]=m[F];for(G=j[E],H=j[E+1],F=G;F<H;F++)if(D=i[F],B){var J=C[D]===I?B[D]:v,K=w(e[F],J);u(K,v)||(y.push(D),x.push(K))}else y.push(D)}return z[s]=y.length,A};return i}var d=a("../../../error/DimensionError");c.name="algorithm09",c.factory=e},{"../../../error/DimensionError":8,"../../../function/relational/equalScalar":70}],100:[function(a,b,c){"use strict";function d(a,b,c,d){var e=a.DenseMatrix,f=function(a,b,c,f){var g=a._values,h=a._index,i=a._ptr,j=a._size,k=a._datatype;if(!g)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var n,l=j[0],m=j[1],o=c;"string"==typeof k&&(n=k,b=d.convert(b,n),o=d.find(c,[n,n]));for(var p=[],q=new e({data:p,size:[l,m],datatype:n}),r=[],s=[],t=0;t<m;t++){for(var u=t+1,v=i[t],w=i[t+1],x=v;x<w;x++){var y=h[x];r[y]=g[x],s[y]=u}for(var z=0;z<l;z++)0===t&&(p[z]=[]),s[z]===u?p[z][t]=f?o(b,r[z]):o(r[z],b):p[z][t]=b}return q};return f}c.name="algorithm10",c.factory=d},{}],101:[function(a,b,c){"use strict";function d(b,c,d,e){var f=d(a("../../../function/relational/equalScalar")),g=b.SparseMatrix,h=function(a,b,c,d){var h=a._values,i=a._index,j=a._ptr,k=a._size,l=a._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var o,m=k[0],n=k[1],p=f,q=0,r=c;"string"==typeof l&&(o=l,p=e.find(f,[o,o]),q=e.convert(0,o),b=e.convert(b,o),r=e.find(c,[o,o]));for(var s=[],t=[],u=[],v=new g({values:s,index:t,ptr:u,size:[m,n],datatype:o}),w=0;w<n;w++){u[w]=t.length;for(var x=j[w],y=j[w+1],z=x;z<y;z++){var A=i[z],B=d?r(b,h[z]):r(h[z],b);p(B,q)||(t.push(A),s.push(B))}}return u[n]=t.length,v};return h}c.name="algorithm11",c.factory=d},{"../../../function/relational/equalScalar":70}],102:[function(a,b,c){"use strict";function d(a,b,c,d){var e=a.DenseMatrix,f=function(a,b,c,f){var g=a._values,h=a._index,i=a._ptr,j=a._size,k=a._datatype;if(!g)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var n,l=j[0],m=j[1],o=c;"string"==typeof k&&(n=k,b=d.convert(b,n),o=d.find(c,[n,n]));for(var p=[],q=new e({data:p,size:[l,m],datatype:n}),r=[],s=[],t=0;t<m;t++){for(var u=t+1,v=i[t],w=i[t+1],x=v;x<w;x++){var y=h[x];r[y]=g[x],s[y]=u}for(var z=0;z<l;z++)0===t&&(p[z]=[]),s[z]===u?p[z][t]=f?o(b,r[z]):o(r[z],b):p[z][t]=f?o(b,0):o(0,b)}return q};return f}c.name="algorithm12",c.factory=d},{}],103:[function(a,b,c){"use strict";function h(a,b,c,d){var f=a.DenseMatrix,g=function(a,b,c){var g=a._data,i=a._size,j=a._datatype,k=b._data,l=b._size,m=b._datatype,n=[];if(i.length!==l.length)throw new e(i.length,l.length);for(var o=0;o<i.length;o++){if(i[o]!==l[o])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+l+")");n[o]=i[o]}var p,q=c;"string"==typeof j&&j===m&&(p=j,b=d.convert(b,p),q=d.find(c,[p,p]));var r=n.length>0?h(q,0,n,n[0],g,k):[];return new f({data:r,size:n,datatype:p})},h=function(a,b,c,d,e,f){var g=[];if(b===c.length-1)for(var i=0;i<d;i++)g[i]=a(e[i],f[i]);else for(var j=0;j<d;j++)g[j]=h(a,b+1,c,c[b+1],e[j],f[j]);return g};return g}var d=a("../../../utils/index"),e=a("../../../error/DimensionError"),f=d.string;f.isString;c.name="algorithm13",c.factory=h},{"../../../error/DimensionError":8,"../../../utils/index":115}],104:[function(a,b,c){"use strict";function e(a,b,c,e){var f=a.DenseMatrix,g=function(a,b,c,g){var l,i=a._data,j=a._size,k=a._datatype,m=c;"string"==typeof k&&(l=k,b=e.convert(b,l),m=e.find(c,[l,l]));var n=j.length>0?h(m,0,j,j[0],i,b,g):[];return new f({data:n,size:d(j),datatype:l})},h=function(a,b,c,d,e,f,g){var i=[];if(b===c.length-1)for(var j=0;j<d;j++)i[j]=g?a(f,e[j]):a(e[j],f);else for(var k=0;k<d;k++)i[k]=h(a,b+1,c,c[b+1],e[k],f,g);return i};return g}var d=a("../../../utils/object").clone;c.name="algorithm14",c.factory=e},{"../../../utils/object":118}],105:[function(a,b,c){"use strict";function e(a,b,c,e){var f=e("number",{"":function(){return 0},number:function(a){return a},string:function(a){var b=Number(a);if(isNaN(b))throw new SyntaxError('String "'+a+'" is no valid number');return b},BigNumber:function(a){return a.toNumber()},Fraction:function(a){return a.valueOf()},Unit:function(a){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(a,b){return a.toNumber(b)},"Array | Matrix":function(a){return d(a,f)}});return f.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},f}var d=a("./../utils/collection/deepMap");c.name="number",c.factory=e},{"./../utils/collection/deepMap":111}],106:[function(a,b,c){"use strict";function d(a){var b=String(a).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!b)throw new SyntaxError("Invalid number");var c=b[1],d=b[2],e=parseFloat(b[4]||"0"),f=d.indexOf(".");e+=f!==-1?f-1:d.length-1,this.sign=c,this.coefficients=d.replace(".","").replace(/^0*/,function(a){return e-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)}),0===this.coefficients.length&&(this.coefficients.push(0),e++),this.exponent=e}function e(a){for(var b=[],c=0;c<a;c++)b.push(0);return b}d.prototype.toEngineering=function(a){var b=this.roundDigits(a),c=b.exponent,d=b.coefficients,f=c%3===0?c:c<0?c-3-c%3:c-c%3,g=c>=0?c:Math.abs(f);d.length-1<g&&(d=d.concat(e(g-(d.length-1))));for(var h=Math.abs(c-f),i=1,j="";--h>=0;)i++;var k=d.slice(i).join(""),l=k.match(/[1-9]/)?"."+k:"";return j=d.slice(0,i).join("")+l,j+="e"+(c>=0?"+":"")+f.toString(),b.sign+j},d.prototype.toFixed=function(a){var b=this.roundDigits(this.exponent+1+(a||0)),c=b.coefficients,d=b.exponent+1,f=d+(a||0);return c.length<f&&(c=c.concat(e(f-c.length))),d<0&&(c=e(-d+1).concat(c),d=1),a&&c.splice(d,0,0===d?"0.":"."),this.sign+c.join("")},d.prototype.toExponential=function(a){var b=a?this.roundDigits(a):this.clone(),c=b.coefficients,d=b.exponent;c.length<a&&(c=c.concat(e(a-c.length)));var f=c.shift();return this.sign+f+(c.length>0?"."+c.join(""):"")+"e"+(d>=0?"+":"")+d},d.prototype.toPrecision=function(a,b){var c=b&&void 0!==b.lower?b.lower:.001,d=b&&void 0!==b.upper?b.upper:1e5,f=Math.abs(Math.pow(10,this.exponent));if(f<c||f>=d)return this.toExponential(a);var g=a?this.roundDigits(a):this.clone(),h=g.coefficients,i=g.exponent;h.length<a&&(h=h.concat(e(a-h.length))),h=h.concat(e(i-h.length+1+(h.length<a?a-h.length:0))),h=e(-i).concat(h);var j=i>0?i:0;return j<h.length-1&&h.splice(j+1,0,"."),this.sign+h.join("")},d.prototype.clone=function(){var a=new d("0");return a.sign=this.sign,a.coefficients=this.coefficients.slice(0),a.exponent=this.exponent,a},d.prototype.roundDigits=function(a){for(var b=this.clone(),c=b.coefficients;a<=0;)c.unshift(0),b.exponent++,a++;if(c.length>a){var d=c.splice(a,c.length-a);if(d[0]>=5){var e=a-1;for(c[e]++;10===c[e];)c.pop(),0===e&&(c.unshift(0),b.exponent++,e++),e--,c[e]++}}return b},b.exports=d},{}],107:[function(a,b,c){"use strict";function j(a,b,c){var d,e=a.length;if(e!=b[c])throw new h(e,b[c]);if(c<b.length-1){var f=c+1;for(d=0;d<e;d++){var g=a[d];if(!Array.isArray(g))throw new h(b.length-1,b.length,"<");j(a[d],b,f)}}else for(d=0;d<e;d++)if(Array.isArray(a[d]))throw new h(b.length+1,b.length,">")}function k(a,b,d,e){var f,g,h=a.length,i=b[d],j=Math.min(h,i);if(a.length=i,d<b.length-1){var l=d+1;for(f=0;f<j;f++)g=a[f],Array.isArray(g)||(g=[g],a[f]=g),k(g,b,l,e);for(f=j;f<i;f++)g=[],a[f]=g,k(g,b,l,e)}else{for(f=0;f<j;f++)for(;Array.isArray(a[f]);)a[f]=a[f][0];if(e!==c.UNINITIALIZED)for(f=j;f<i;f++)a[f]=e}}function l(a,b,c){var d,e;if(c<b){var f=c+1;for(d=0,e=a.length;d<e;d++)a[d]=l(a[d],b,f)}else for(;Array.isArray(a);)a=a[0];return a}function m(a,b,c){var d,e;if(Array.isArray(a)){var f=c+1;for(d=0,e=a.length;d<e;d++)a[d]=m(a[d],b,f)}else for(var g=c;g<b;g++)a=[a];return a}var d=a("./number"),e=a("./string"),h=(a("./object"),a("./types"),a("../error/DimensionError")),i=a("../error/IndexError");c.size=function(a){for(var b=[];Array.isArray(a);)b.push(a.length),a=a[0];return b},c.validate=function(a,b){var c=0==b.length;if(c){if(Array.isArray(a))throw new h(a.length,0)}else j(a,b,0)},c.validateIndex=function(a,b){if(!d.isNumber(a)||!d.isInteger(a))throw new TypeError("Index must be an integer (value: "+a+")");if(a<0||"number"==typeof b&&a>=b)throw new i(a,b)},c.UNINITIALIZED={},c.resize=function(a,b,c){if(!Array.isArray(a)||!Array.isArray(b))throw new TypeError("Array expected");if(0===b.length)throw new Error("Resizing to scalar is not supported");b.forEach(function(a){if(!d.isNumber(a)||!d.isInteger(a)||a<0)throw new TypeError("Invalid size, must contain positive integers (size: "+e.format(b)+")")});var f=void 0!==c?c:0;return k(a,b,0,f),a},c.squeeze=function(a,b){for(var d=b||c.size(a);Array.isArray(a)&&1===a.length;)a=a[0],d.shift();for(var e=d.length;1===d[e-1];)e--;return e<d.length&&(a=l(a,e,0),d.length=e),a},c.unsqueeze=function(a,b,d,e){var f=e||c.size(a);if(d)for(var g=0;g<d;g++)a=[a],f.unshift(1);for(a=m(a,b,0);f.length<b;)f.push(1);return a},c.flatten=function(a){if(!Array.isArray(a))return a;var b=[];return a.forEach(function a(c){Array.isArray(c)?c.forEach(a):b.push(c)}),b},c.isArray=Array.isArray},{"../error/DimensionError":8,"../error/IndexError":9,"./number":117,"./object":118,"./string":119,"./types":120}],108:[function(a,b,c){c.format=function(a,b){if("function"==typeof b)return b(a);if(!a.isFinite())return a.isNaN()?"NaN":a.gt(0)?"Infinity":"-Infinity";var d="auto",e=void 0;switch(void 0!==b&&(b.notation&&(d=b.notation),"number"==typeof b?e=b:b.precision&&(e=b.precision)),d){case"fixed":return c.toFixed(a,e);case"exponential":return c.toExponential(a,e);case"auto":var f=.001,g=1e5;b&&b.exponential&&(void 0!==b.exponential.lower&&(f=b.exponential.lower),void 0!==b.exponential.upper&&(g=b.exponential.upper));({toExpNeg:a.constructor.toExpNeg,toExpPos:a.constructor.toExpPos});if(a.constructor.config({toExpNeg:Math.round(Math.log(f)/Math.LN10),toExpPos:Math.round(Math.log(g)/Math.LN10)}),a.isZero())return"0";var i,j=a.abs();return i=j.gte(f)&&j.lt(g)?a.toSignificantDigits(e).toFixed():c.toExponential(a,e),i.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],b=arguments[4];return"."!==a?a+b:b});default:throw new Error('Unknown notation "'+d+'". Choose "auto", "exponential", or "fixed".')}},c.toExponential=function(a,b){return void 0!==b?a.toExponential(b-1):a.toExponential()},c.toFixed=function(a,b){return a.toFixed(b||0)}},{}],109:[function(a,b,c){"use strict";b.exports=function(b,c,d){if(null==d)return b.eq(c);if(b.eq(c))return!0;if(b.isNaN()||c.isNaN())return!1;if(b.isFinite()&&c.isFinite()){var e=b.minus(c).abs();if(e.isZero())return!0;var f=b.constructor.max(b.abs(),c.abs());return e.lte(f.times(d))}return!1}},{}],110:[function(a,b,c){"use strict";c.isBoolean=function(a){return"boolean"==typeof a}},{}],111:[function(a,b,c){"use strict";b.exports=function a(b,c,d){return b&&"function"==typeof b.map?b.map(function(b){return a(b,c,d)}):c(b)}},{}],112:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g,h,i,j,k,l){var q,r,s,t,m=b._values,n=b._index,o=b._ptr,p=h._index;if(e)for(r=o[c],s=o[c+1],q=r;q<s;q++)t=n[q],d[t]!==g?(d[t]=g,p.push(t),k?(e[t]=j?i(m[q],l):i(l,m[q]),f[t]=g):e[t]=m[q]):(e[t]=j?i(m[q],e[t]):i(e[t],m[q]),f[t]=g);else for(r=o[c],s=o[c+1],q=r;q<s;q++)t=n[q],d[t]!==g?(d[t]=g,p.push(t)):f[t]=g}},{}],113:[function(a,b,c){var d=a("tiny-emitter");c.mixin=function(a){var b=new d;return a.on=b.on.bind(b),a.off=b.off.bind(b),a.once=b.once.bind(b),a.emit=b.emit.bind(b),a}},{"tiny-emitter":121}],114:[function(a,b,c){c.memoize=function(a,b){return function c(){"object"!=typeof c.cache&&(c.cache={});for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];var f=b?b(d):JSON.stringify(d);return f in c.cache?c.cache[f]:c.cache[f]=a.apply(a,d)}},c.maxArgumentCount=function(a){return Object.keys(a.signatures||{}).reduce(function(a,b){var c=(b.match(/,/g)||[]).length+1;return Math.max(a,c)},-1)}},{}],115:[function(a,b,c){"use strict";c.array=a("./array"),c.boolean=a("./boolean"),c.function=a("./function"),c.number=a("./number"),c.object=a("./object"),c.string=a("./string"),c.types=a("./types"),c.emitter=a("./emitter")},{"./array":107,"./boolean":110,"./emitter":113,"./function":114,"./number":117,"./object":118,"./string":119,"./types":120}],116:[function(a,b,c){"use strict";c.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},c.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},c.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var d={deg:"^\\circ"};c.toSymbol=function(a,b){if(b="undefined"!=typeof b&&b)return d.hasOwnProperty(a)?d[a]:"\\mathrm{"+a+"}";if(c.symbols.hasOwnProperty(a))return c.symbols[a];if(a.indexOf("_")!==-1){var e=a.indexOf("_");return c.toSymbol(a.substring(0,e))+"_{"+c.toSymbol(a.substring(e+1))+"}"}return a}},{}],117:[function(a,b,c){"use strict";var d=a("./NumberFormatter");c.isNumber=function(a){return"number"==typeof a},c.isInteger=function(a){return!!isFinite(a)&&a==Math.round(a)},c.sign=Math.sign||function(a){return a>0?1:a<0?-1:0},c.format=function(a,b){if("function"==typeof b)return b(a);if(a===1/0)return"Infinity";if(a===-(1/0))return"-Infinity";if(isNaN(a))return"NaN";var d="auto",e=void 0;switch(b&&(b.notation&&(d=b.notation),c.isNumber(b)?e=b:b.precision&&(e=b.precision)),d){case"fixed":return c.toFixed(a,e);case"exponential":return c.toExponential(a,e);case"engineering":return c.toEngineering(a,e);case"auto":return c.toPrecision(a,e,b&&b.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],b=arguments[4];return"."!==a?a+b:b});default:throw new Error('Unknown notation "'+d+'". Choose "auto", "exponential", or "fixed".')}},c.toExponential=function(a,b){return new d(a).toExponential(b)},c.toEngineering=function(a,b){return new d(a).toEngineering(b)},c.toFixed=function(a,b){return new d(a).toFixed(b)},c.toPrecision=function(a,b,c){return new d(a).toPrecision(b,c)},c.digits=function(a){return a.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},c.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,c.nearlyEqual=function(a,b,d){if(null==d)return a==b;if(a==b)return!0;if(isNaN(a)||isNaN(b))return!1;if(isFinite(a)&&isFinite(b)){var e=Math.abs(a-b);return e<c.DBL_EPSILON||e<=Math.max(Math.abs(a),Math.abs(b))*d}return!1}},{"./NumberFormatter":106}],118:[function(a,b,c){"use strict";c.clone=function a(b){var c=typeof b;if("number"===c||"string"===c||"boolean"===c||null===b||void 0===b)return b;if("function"==typeof b.clone)return b.clone();if(Array.isArray(b))return b.map(function(b){return a(b)});if(b instanceof Number)return new Number(b.valueOf());if(b instanceof String)return new String(b.valueOf());if(b instanceof Boolean)return new Boolean(b.valueOf());if(b instanceof Date)return new Date(b.valueOf());if(b&&b.isBigNumber===!0)return b;if(b instanceof RegExp)throw new TypeError("Cannot clone "+b);var d={};for(var e in b)b.hasOwnProperty(e)&&(d[e]=a(b[e]));return d},c.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},c.deepExtend=function a(b,c){if(Array.isArray(c))throw new TypeError("Arrays are not supported by deepExtend");for(var d in c)if(c.hasOwnProperty(d))if(c[d]&&c[d].constructor===Object)void 0===b[d]&&(b[d]={}),b[d].constructor===Object?a(b[d],c[d]):b[d]=c[d];else{if(Array.isArray(c[d]))throw new TypeError("Arrays are not supported by deepExtend");b[d]=c[d]}return b},c.deepEqual=function(b,d){var e,f,g;if(Array.isArray(b)){if(!Array.isArray(d))return!1;if(b.length!=d.length)return!1;for(f=0,g=b.length;f<g;f++)if(!c.deepEqual(b[f],d[f]))return!1;return!0}if(b instanceof Object){if(Array.isArray(d)||!(d instanceof Object))return!1;for(e in b)if(!c.deepEqual(b[e],d[e]))return!1;for(e in d)if(!c.deepEqual(b[e],d[e]))return!1;return!0}return typeof b==typeof d&&b==d},c.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(a){}return!1},c.lazy=function(a,b,d){if(c.canDefineProperty()){var f,e=!0;Object.defineProperty(a,b,{get:function(){return e&&(f=d(),e=!1),f},set:function(a){f=a,e=!1},configurable:!0,enumerable:!0})}else a[b]=d()},c.traverse=function(a,b){var c=a;if(b)for(var d=b.split("."),e=0;e<d.length;e++){var f=d[e];f in c||(c[f]={}),c=c[f]}return c},c.isFactory=function(a){return a&&"function"==typeof a.factory}},{}],119:[function(a,b,c){"use strict";function f(a,b){if(Array.isArray(a)){for(var d="[",e=a.length,g=0;g<e;g++)0!=g&&(d+=", "),d+=f(a[g],b);return d+="]"}return c.format(a,b)}var d=a("./number").format,e=a("./bignumber/formatter").format;c.isString=function(a){return"string"==typeof a},c.endsWith=function(a,b){var c=a.length-b.length,d=a.length;return a.substring(c,d)===b},c.format=function(a,b){if("number"==typeof a)return d(a,b);if(a&&a.isBigNumber===!0)return e(a,b);if(a&&a.isFraction===!0)return b&&"decimal"===b.fraction?a.toString():a.s*a.n+"/"+a.d;if(Array.isArray(a))return f(a,b);if(c.isString(a))return'"'+a+'"';if("function"==typeof a)return a.syntax?String(a.syntax):"function";if(a&&"object"==typeof a){if("function"==typeof a.format)return a.format(b);if(a&&a.toString()!=={}.toString())return a.toString();var g=[];for(var h in a)a.hasOwnProperty(h)&&g.push('"'+h+'": '+c.format(a[h],b));return"{"+g.join(", ")+"}"}return String(a)}},{"./bignumber/formatter":108,"./number":117}],120:[function(a,b,c){"use strict";c.type=function(a){var b=typeof a;return"object"===b?null===a?"null":a instanceof Boolean?"boolean":a instanceof Number?"number":a instanceof String?"string":Array.isArray(a)?"Array":a instanceof Date?"Date":a instanceof RegExp?"RegExp":"Object":"function"===b?"Function":b},c.isScalar=function(a){return!(a&&a.isMatrix||Array.isArray(a))}},{}],121:[function(a,b,c){function d(){}d.prototype={on:function(a,b,c){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:b,ctx:c}),this},once:function(a,b,c){function e(){d.off(a,e),b.apply(c,arguments)}var d=this;return e._=b,this.on(a,e,c)},emit:function(a){var b=[].slice.call(arguments,1),c=((this.e||(this.e={}))[a]||[]).slice(),d=0,e=c.length;for(d;d<e;d++)c[d].fn.apply(c[d].ctx,b);return this},off:function(a,b){var c=this.e||(this.e={}),d=c[a],e=[];if(d&&b)for(var f=0,g=d.length;f<g;f++)d[f].fn!==b&&d[f].fn._!==b&&e.push(d[f]);return e.length?c[a]=e:delete c[a],this}},b.exports=d},{}],122:[function(b,c,d){"use strict";!function(b,e){"function"==typeof a&&a.amd?a([],e):"object"==typeof d?c.exports=e():b.typed=e()}(this,function(){function a(){function b(a){for(var b,c=0;c<w.types.length;c++){var d=w.types[c];if(d.name===a){b=d.test;break}}if(!b){var e;for(c=0;c<w.types.length;c++)if(d=w.types[c],d.name.toLowerCase()==a.toLowerCase()){e=d.name;break}throw new Error('Unknown type "'+a+'"'+(e?'. Did you mean "'+e+'"?':""))}return b}function c(a){for(var b="",c=0;c<a.length;c++){
var d=a[c];if(d.signatures&&""!=d.name)if(""==b)b=d.name;else if(b!=d.name){var e=new Error("Function names do not match (expected: "+b+", actual: "+d.name+")");throw e.data={actual:d.name,expected:b},e}}return b}function d(a,b,c,d,e){var j,f=p(d),g=e?e.split(","):null,h=a||"unnamed",i=g&&q(g,"any"),k={fn:a,index:c,actual:d,expected:g};j=g?b>c&&!i?"Unexpected type of argument in function "+h+" (expected: "+g.join(" or ")+", actual: "+f+", index: "+c+")":"Too few arguments in function "+h+" (expected: "+g.join(" or ")+", index: "+c+")":"Too many arguments in function "+h+" (expected: "+c+", actual: "+b+")";var l=new TypeError(j);return l.data=k,l}function e(a){this.name=a||"refs",this.categories={}}function f(a,b){if("string"==typeof a){var c=a.trim(),d="..."===c.substr(0,3);if(d&&(c=c.substr(3)),""===c)this.types=["any"];else{this.types=c.split("|");for(var e=0;e<this.types.length;e++)this.types[e]=this.types[e].trim()}}else{if(!Array.isArray(a)){if(a instanceof f)return a.clone();throw new Error("String or Array expected")}this.types=a}this.conversions=[],this.varArgs=d||b||!1,this.anyType=this.types.indexOf("any")!==-1}function g(a,b){var c;if("string"==typeof a)c=""!==a?a.split(","):[];else{if(!Array.isArray(a))throw new Error("string or Array expected");c=a}this.params=new Array(c.length),this.anyType=!1,this.varArgs=!1;for(var d=0;d<c.length;d++){var e=new f(c[d]);if(this.params[d]=e,e.anyType&&(this.anyType=!0),d===c.length-1)this.varArgs=e.varArgs;else if(e.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=b}function h(a,b,c,d){this.path=a||[],this.param=a[a.length-1]||null,this.signature=b||null,this.childs=c||[],this.fallThrough=d||!1}function i(a){var b,e,c={},d=[];for(var f in a)if(a.hasOwnProperty(f)){var h=a[f];if(b=new g(f,h),b.ignore())continue;var i=b.expand();for(e=0;e<i.length;e++){var j=i[e],k=j.toString(),l=c[k];if(l){var m=g.compare(j,l);if(m<0)c[k]=j;else if(0===m)throw new Error('Signature "'+k+'" is defined twice')}else c[k]=j}}for(k in c)c.hasOwnProperty(k)&&d.push(c[k]);for(d.sort(function(a,b){return g.compare(a,b)}),e=0;e<d.length;e++)if(b=d[e],b.varArgs)for(var n=b.params.length-1,o=b.params[n],p=0;p<o.types.length;){if(o.conversions[p])for(var r=o.types[p],s=0;s<d.length;s++){var t=d[s],u=t.params[n];if(t!==b&&u&&q(u.types,r)&&!u.conversions[n]){o.types.splice(p,1),o.conversions.splice(p,1),p--;break}}p++}return d}function j(a){for(var b=[],c=0;c<a.length;c++)a[c].anyType&&b.push(a[c]);return b}function k(a){for(var b={},c=0;c<a.length;c++){var d=a[c];if(d.fn&&!d.hasConversions()){var e=d.params.join(",");b[e]=d.fn}}return b}function l(a,b,c){var d,e,i,g=b.length,j=[];for(d=0;d<a.length;d++)e=a[d],e.params.length!==g||i||(i=e),void 0!=e.params[g]&&j.push(e);j.sort(function(a,b){return f.compare(a.params[g],b.params[g])});var k=[];for(d=0;d<j.length;d++){e=j[d];var m=e.params[g],n=k.filter(function(a){return a.param.overlapping(m)})[0];if(n){if(n.param.varArgs)throw new Error('Conflicting types "'+n.param+'" and "'+m+'"');n.signatures.push(e)}else k.push({param:m,signatures:[e]})}var o=[];for(d=0;d<c.length;d++)c[d].paramsStartWith(b)&&o.push(c[d]);var p=!1;for(d=0;d<o.length;d++)if(!q(a,o[d])){p=!0;break}var r=new Array(k.length);for(d=0;d<k.length;d++){var s=k[d];r[d]=l(s.signatures,b.concat(s.param),o)}return new h(b,i,r,p)}function m(a){for(var b=[],c=0;c<a;c++)b[c]="arg"+c;return b}function n(a,b){var c=new e,f=i(b);if(0==f.length)throw new Error("No signatures provided");var g=j(f),h=l(f,[],g),n=[],p=a||"",q=m(o(f));n.push("function "+p+"("+q.join(", ")+") {"),n.push('  "use strict";'),n.push("  var name = '"+p+"';"),n.push(h.toCode(c,"  ",!1)),n.push("}");var r=[c.toCode(),"return "+n.join("\n")].join("\n"),s=new Function(c.name,"createError",r),t=s(c,d);return t.signatures=k(f),t}function o(a){for(var b=0,c=0;c<a.length;c++){var d=a[c].params.length;d>b&&(b=d)}return b}function p(a){for(var b,c=0;c<w.types.length;c++){var d=w.types[c];if("Object"===d.name)b=d;else if(d.test(a))return d.name}return b&&b.test(a)?b.name:"unknown"}function q(a,b){return a.indexOf(b)!==-1}function r(a){return a[a.length-1]}function x(a,b){if(!a.signatures)throw new TypeError("Function is no typed-function");var c;if("string"==typeof b){c=b.split(",");for(var d=0;d<c.length;d++)c[d]=c[d].trim()}else{if(!Array.isArray(b))throw new TypeError("String array or a comma separated string expected");c=b}var e=c.join(","),f=a.signatures[e];if(f)return f;throw new TypeError("Signature not found (signature: "+(a.name||"unnamed")+"("+c.join(", ")+"))")}function y(a,b){var c=p(a);if(b===c)return a;for(var d=0;d<w.conversions.length;d++){var e=w.conversions[d];if(e.from===c&&e.to===b)return e.convert(a)}throw new Error("Cannot convert from "+c+" to "+b)}e.prototype.add=function(a,b){var c=b||"fn";this.categories[c]||(this.categories[c]=[]);var d=this.categories[c].indexOf(a);return d==-1&&(d=this.categories[c].length,this.categories[c].push(a)),c+d},e.prototype.toCode=function(){var a=[],b=this.name+".categories",c=this.categories;for(var d in c)if(c.hasOwnProperty(d))for(var e=c[d],f=0;f<e.length;f++)a.push("var "+d+f+" = "+b+"['"+d+"']["+f+"];");return a.join("\n")},f.compare=function(a,b){if(a.anyType)return 1;if(b.anyType)return-1;if(q(a.types,"Object"))return 1;if(q(b.types,"Object"))return-1;if(a.hasConversions()){if(b.hasConversions()){var c,d,e;for(c=0;c<a.conversions.length;c++)if(void 0!==a.conversions[c]){d=a.conversions[c];break}for(c=0;c<b.conversions.length;c++)if(void 0!==b.conversions[c]){e=b.conversions[c];break}return w.conversions.indexOf(d)-w.conversions.indexOf(e)}return 1}if(b.hasConversions())return-1;var f,g;for(c=0;c<w.types.length;c++)if(w.types[c].name===a.types[0]){f=c;break}for(c=0;c<w.types.length;c++)if(w.types[c].name===b.types[0]){g=c;break}return f-g},f.prototype.overlapping=function(a){for(var b=0;b<this.types.length;b++)if(q(a.types,this.types[b]))return!0;return!1},f.prototype.matches=function(a){return this.anyType||a.anyType||this.overlapping(a)},f.prototype.clone=function(){var a=new f(this.types.slice(),this.varArgs);return a.conversions=this.conversions.slice(),a},f.prototype.hasConversions=function(){return this.conversions.length>0},f.prototype.contains=function(a){for(var b=0;b<this.types.length;b++)if(a[this.types[b]])return!0;return!1},f.prototype.toString=function(a){for(var b=[],c={},d=0;d<this.types.length;d++){var e=this.conversions[d],f=a&&e?e.to:this.types[d];f in c||(c[f]=!0,b.push(f))}return(this.varArgs?"...":"")+b.join("|")},g.prototype.clone=function(){return new g(this.params.slice(),this.fn)},g.prototype.expand=function(){function b(c,d){if(d.length<c.params.length){var e,h,i,j=c.params[d.length];if(j.varArgs){for(h=j.clone(),e=0;e<w.conversions.length;e++)if(i=w.conversions[e],!q(j.types,i.from)&&q(j.types,i.to)){var k=h.types.length;h.types[k]=i.from,h.conversions[k]=i}b(c,d.concat(h))}else{for(e=0;e<j.types.length;e++)b(c,d.concat(new f(j.types[e])));for(e=0;e<w.conversions.length;e++)i=w.conversions[e],!q(j.types,i.from)&&q(j.types,i.to)&&(h=new f(i.from),h.conversions[0]=i,b(c,d.concat(h)))}}else a.push(new g(d,c.fn))}var a=[];return b(this,[]),a},g.compare=function(a,b){if(a.params.length>b.params.length)return 1;if(a.params.length<b.params.length)return-1;var c,d=a.params.length,e=0,g=0;for(c=0;c<d;c++)a.params[c].hasConversions()&&e++,b.params[c].hasConversions()&&g++;if(e>g)return 1;if(e<g)return-1;for(c=0;c<a.params.length;c++){var h=f.compare(a.params[c],b.params[c]);if(0!==h)return h}return 0},g.prototype.hasConversions=function(){for(var a=0;a<this.params.length;a++)if(this.params[a].hasConversions())return!0;return!1},g.prototype.ignore=function(){for(var a={},b=0;b<w.ignore.length;b++)a[w.ignore[b]]=!0;for(b=0;b<this.params.length;b++)if(this.params[b].contains(a))return!0;return!1},g.prototype.paramsStartWith=function(a){if(0===a.length)return!0;for(var b=r(this.params),c=r(a),d=0;d<a.length;d++){var e=this.params[d]||(b.varArgs?b:null),f=a[d]||(c.varArgs?c:null);if(!e||!f||!e.matches(f))return!1}return!0},g.prototype.toCode=function(a,b){for(var c=[],d=new Array(this.params.length),e=0;e<this.params.length;e++){var f=this.params[e],g=f.conversions[0];f.varArgs?d[e]="varArgs":g?d[e]=a.add(g.convert,"convert")+"(arg"+e+")":d[e]="arg"+e}var h=this.fn?a.add(this.fn,"signature"):void 0;return h?b+"return "+h+"("+d.join(", ")+"); // signature: "+this.params.join(", "):c.join("\n")},g.prototype.toString=function(){return this.params.join(", ")},h.prototype.toCode=function(a,c){var d=[];if(this.param){var e=this.path.length-1,f=this.param.conversions[0],g="// type: "+(f?f.from+" (convert to "+f.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)d.push(c+"if (arguments.length > "+e+") {"),d.push(c+"  var varArgs = [];"),d.push(c+"  for (var i = "+e+"; i < arguments.length; i++) {"),d.push(c+"    varArgs.push(arguments[i]);"),d.push(c+"  }"),d.push(this.signature.toCode(a,c+"  ")),d.push(c+"}");else{for(var h=function(c,d){for(var e=[],f=0;f<c.length;f++)e[f]=a.add(b(c[f]),"test")+"("+d+")";return e.join(" || ")}.bind(this),i=this.param.types,j=[],k=0;k<i.length;k++)void 0===this.param.conversions[k]&&j.push(i[k]);d.push(c+"if ("+h(i,"arg"+e)+") { "+g),d.push(c+"  var varArgs = [arg"+e+"];"),d.push(c+"  for (var i = "+(e+1)+"; i < arguments.length; i++) {"),d.push(c+"    if ("+h(j,"arguments[i]")+") {"),d.push(c+"      varArgs.push(arguments[i]);");for(var k=0;k<i.length;k++){var l=this.param.conversions[k];if(l){var m=a.add(b(i[k]),"test"),n=a.add(l.convert,"convert");d.push(c+"    }"),d.push(c+"    else if ("+m+"(arguments[i])) {"),d.push(c+"      varArgs.push("+n+"(arguments[i]));")}}d.push(c+"    } else {"),d.push(c+"      throw createError(name, arguments.length, i, arguments[i], '"+j.join(",")+"');"),d.push(c+"    }"),d.push(c+"  }"),d.push(this.signature.toCode(a,c+"  ")),d.push(c+"}")}else if(this.param.anyType)d.push(c+"// type: any"),d.push(this._innerCode(a,c));else{var o=this.param.types[0],m="any"!==o?a.add(b(o),"test"):null;d.push(c+"if ("+m+"(arg"+e+")) { "+g),d.push(this._innerCode(a,c+"  ")),d.push(c+"}")}}else d.push(this._innerCode(a,c));return d.join("\n")},h.prototype._innerCode=function(a,b){var d,c=[];for(this.signature&&(c.push(b+"if (arguments.length === "+this.path.length+") {"),c.push(this.signature.toCode(a,b+"  ")),c.push(b+"}")),d=0;d<this.childs.length;d++)c.push(this.childs[d].toCode(a,b));if(!this.fallThrough||this.param&&this.param.anyType){var e=this._exceptions(a,b);e&&c.push(e)}return c.join("\n")},h.prototype._exceptions=function(a,b){var c=this.path.length;if(0===this.childs.length)return[b+"if (arguments.length > "+c+") {",b+"  throw createError(name, arguments.length, "+c+", arguments["+c+"]);",b+"}"].join("\n");for(var d={},e=[],f=0;f<this.childs.length;f++){var g=this.childs[f];if(g.param)for(var h=0;h<g.param.types.length;h++){var i=g.param.types[h];i in d||g.param.conversions[h]||(d[i]=!0,e.push(i))}}return b+"throw createError(name, arguments.length, "+c+", arguments["+c+"], '"+e.join(",")+"');"};var s=[{name:"number",test:function(a){return"number"==typeof a}},{name:"string",test:function(a){return"string"==typeof a}},{name:"boolean",test:function(a){return"boolean"==typeof a}},{name:"Function",test:function(a){return"function"==typeof a}},{name:"Array",test:Array.isArray},{name:"Date",test:function(a){return a instanceof Date}},{name:"RegExp",test:function(a){return a instanceof RegExp}},{name:"Object",test:function(a){return"object"==typeof a}},{name:"null",test:function(a){return null===a}},{name:"undefined",test:function(a){return void 0===a}}],t={},u=[],v=[],w={config:t,types:s,conversions:u,ignore:v};return w=n("typed",{Object:function(a){var b=[];for(var d in a)a.hasOwnProperty(d)&&b.push(a[d]);var e=c(b);return n(e,a)},"string, Object":n,"...Function":function(a){for(var b,d=c(a),e={},f=0;f<a.length;f++){var g=a[f];if("object"!=typeof g.signatures)throw b=new TypeError("Function is no typed-function (index: "+f+")"),b.data={index:f},b;for(var h in g.signatures)if(g.signatures.hasOwnProperty(h))if(e.hasOwnProperty(h)){if(g.signatures[h]!==e[h])throw b=new Error('Signature "'+h+'" is defined twice'),b.data={signature:h},b}else e[h]=g.signatures[h]}return n(d,e)}}),w.config=t,w.types=s,w.conversions=u,w.ignore=v,w.create=a,w.find=x,w.convert=y,w.addType=function(a){if(!a||"string"!=typeof a.name||"function"!=typeof a.test)throw new TypeError("Object with properties {name: string, test: function} expected");w.types.push(a)},w.addConversion=function(a){if(!a||"string"!=typeof a.from||"string"!=typeof a.to||"function"!=typeof a.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");w.conversions.push(a)},w}return a()})},{}]},{},[1])(1)});